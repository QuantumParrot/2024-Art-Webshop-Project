import{f as N}from"./filter-z7rnPMJX.js";import{m as h,a as k}from"./pinia@2.1.7_vue@3.4.19-BGrtT45R.js";import{a as S}from"./adminArticle-D2DPJtTb.js";import{u as f}from"./userArticle-DeGrF5kt.js";import{r as F}from"./swiper@11.0.7-Bu6r0fLX.js";import{_ as g}from"./index-CQ-Ygvmm.js";import{z as r,A as s,F as m,ao as w,Q as t,c as a,aH as y,aq as n,P as L,al as $,ak as A}from"./@vue_runtime-core@3.4.19-CKRBtKAL.js";import{P as d}from"./@vue_shared@3.4.19-Bk7MlA8B.js";import{C as B}from"./CategoryFilterBar-CVxN_z-r.js";import{P as I}from"./PaginationComponent-Cmo1PHk7.js";import{L as j,s as R}from"./sleep-cat-Dm9j8VqN.js";import"./vue-demi@0.14.7_vue@3.4.19-Dq6ymT-8.js";import"./@vue_reactivity@3.4.19-Ddpy7v_1.js";import"./axios@1.6.7-Di5RpEPX.js";import"./alert-Dw2Xe9FX.js";import"./sweetalert2@11.10.5-Csd-Z1-j.js";import"./@ckeditor_ckeditor5-vue@5.1.0-BEtXLgA-.js";import"./vue@3.4.19-C3VIO2t_.js";import"./@vue_runtime-dom@3.4.19-Jk3xLe3-.js";import"./userProduct-hXqBbad6.js";/* empty css                               */import"./vee-validate@4.12.5_vue@3.4.19-BmIHdE2I.js";import"./@vee-validate_rules@4.12.5_vue@3.4.19-DqtB_02U.js";import"./@vee-validate_i18n@4.12.5-DXNnfMG0.js";import"./vue-axios@3.5.2_axios@1.6.7_vue@3.4.19-BaogFJPH.js";import"./moment@2.30.1-Cl4UOzQZ.js";import"./vue-loading-overlay@6.0.4_vue@3.4.19-DaNcwJXO.js";import"./vue-router@4.2.5_vue@3.4.19-BBAnl9m5.js";import"./vue3-lottie@3.3.0_vue@3.4.19-DshOE59b.js";import"./lottie-web@5.12.2-DrG9waUi.js";const V={props:["data"],mounted(){F()}},M={"slides-per-view":1,"slides-per-group":1,"centered-slides":!0,pagination:!0,"pagination-clickable":!0,autoplay:!0},q={class:"slide-content"},z=["src","alt"],D={class:"slide-title fs-5 py-3"};function J(e,l,_,P,p,o){const u=n("RouterLink");return r(),s("swiper-container",M,[(r(!0),s(m,null,w(_.data,i=>(r(),s("swiper-slide",{key:i.id,lazy:"true"},[t("div",q,[t("img",{src:i.image,alt:i.title,class:"w-100 object-fit-cover",loading:"true"},null,8,z)]),t("div",D,[a(u,{class:"text-decoration-none",to:`/news/${i.id}`},{default:y(()=>[t("b",null,d(i.title),1)]),_:2},1032,["to"])])]))),128))])}const O=g(V,[["render",J],["__scopeId","data-v-8a130730"]]),E={components:{NewsCarousel:O,CategoryFilterBar:B,PaginationComponent:I,LottiePlayer:j},mixins:[N],data(){return{sleepCatJSON:R,filter:"",currentPage:1}},computed:{...h(S,["categories"]),...h(f,["news"]),newsCategories(){return this.categories.網站公告.filter(e=>e!=="網站測試")},currentNews(){return this.filter?this.news.filter(e=>e.category===this.filter):this.news},totalPages(){return Math.ceil(this.currentNews.length/10)},displayingNews(){return this.currentNews.filter((e,l)=>Math.floor(l/10)+1===this.currentPage)},carousel(){return this.news.filter((e,l)=>l<3)}},methods:{...k(f,["getArticles","switchPage"])},mounted(){this.news.length||this.getArticles(),this.switchFilter(this.$route.query.category||"")}},b=e=>($("data-v-b208a27b"),e=e(),A(),e),H={class:"h-100 bg-gray text-primary"},Q={class:"container py-7"},G=b(()=>t("h2",{class:"text-center py-5 mb-7"},[t("b",null,"最新消息")],-1)),K={class:"mb-7"},T={class:"mb-7"},U={class:"list-unstyled alert bg-white px-md-7 p-5 mb-7 d-flex flex-column gap-5"},W={class:"badge bg-primary fs-6 rounded-1"},X={class:"fs-7 mb-2"},Y={class:"mb-0"},Z={key:0,class:"d-flex justify-content-center"},tt=b(()=>t("div",{class:"alert px-md-7 p-5 mb-0 bg-white text-center"},"這個分類目前沒有消息喔！",-1));function et(e,l,_,P,p,o){const u=n("NewsCarousel"),i=n("CategoryFilterBar"),x=n("RouterLink"),C=n("PaginationComponent"),v=n("LottiePlayer");return r(),s("div",H,[t("div",Q,[G,t("div",K,[a(u,{data:o.carousel},null,8,["data"])]),t("div",T,[a(i,{filters:o.newsCategories,filter:p.filter,"total-title":"全部消息",onSwitchFilter:e.switchFilter},null,8,["filters","filter","onSwitchFilter"])]),o.displayingNews.length?(r(),s(m,{key:0},[t("ul",U,[(r(!0),s(m,null,w(o.displayingNews,c=>(r(),s("li",{key:c.id,class:"d-flex flex-md-row flex-column align-items-md-center gap-md-7 gap-3"},[t("div",null,[t("span",W,d(c.category),1)]),a(x,{class:"nav-link text-decoration-none",to:`/news/${c.id}`},{default:y(()=>[t("p",X,d(e.$calc.formatDate(c.create_at*1e3,"/")),1),t("p",Y,d(c.title),1)]),_:2},1032,["to"])]))),128))]),o.totalPages>1?(r(),s("div",Z,[a(C,{current:p.currentPage,total:o.totalPages,onSwitchPage:e.switchPage},null,8,["current","total","onSwitchPage"])])):L("",!0)],64)):(r(),s(m,{key:1},[tt,a(v,{json:p.sleepCatJSON},null,8,["json"])],64))])])}const Bt=g(E,[["render",et],["__scopeId","data-v-b208a27b"]]);export{Bt as default};
