import{C as u,f as _}from"./CategoryFilterBar-BEJ3-OXE.js";import{m,a as w}from"./pinia@2.1.7_vue@3.4.19-BGrtT45R.js";import{a as y}from"./adminArticle-DNRT_V1-.js";import{u as p}from"./userArticle-B4cy3BXT.js";import{P as x}from"./PaginationComponent-BT9LfbX6.js";import{_ as P}from"./index-9uxRtpDi.js";import{A as r,Q as e,c as a,F as d,ao as b,P as C,aq as n,z as o,aH as S,al as k,ak as v}from"./@vue_runtime-core@3.4.19-CKRBtKAL.js";import{P as l}from"./@vue_shared@3.4.19-Bk7MlA8B.js";import"./vue-demi@0.14.7_vue@3.4.19-Dq6ymT-8.js";import"./@vue_reactivity@3.4.19-Ddpy7v_1.js";import"./axios@1.6.7-Di5RpEPX.js";import"./alert-8GdQBstY.js";import"./sweetalert2@11.10.5-Csd-Z1-j.js";import"./@ckeditor_ckeditor5-vue@5.1.0-BEtXLgA-.js";import"./vue@3.4.19-C3VIO2t_.js";import"./@vue_runtime-dom@3.4.19-Jk3xLe3-.js";import"./userProduct-DvVBjULb.js";/* empty css                               *//* empty css                          */import"./vee-validate@4.12.5_vue@3.4.19-BmIHdE2I.js";import"./@vee-validate_rules@4.12.5_vue@3.4.19-DqtB_02U.js";import"./@vee-validate_i18n@4.12.5-DXNnfMG0.js";import"./vue-axios@3.5.2_axios@1.6.7_vue@3.4.19-BaogFJPH.js";import"./vue3-lottie@3.3.0_vue@3.4.19-B_fkVG75.js";import"./lottie-web@5.12.2-DrG9waUi.js";import"./moment@2.30.1-Cl4UOzQZ.js";import"./vue-loading-overlay@6.0.4_vue@3.4.19-DaNcwJXO.js";import"./vue-router@4.2.5_vue@3.4.19-BBAnl9m5.js";import"./aos@2.3.4-DSOO8Lb4.js";const F={components:{CategoryFilterBar:u,PaginationComponent:x},mixins:[_],data(){return{filter:"",currentPage:1}},computed:{...m(y,["categories"]),...m(p,["news"]),newsCategories(){return this.categories.網站公告.filter(t=>t!=="網站測試")},displayingNews(){return this.filter?this.news.filter(t=>t.category===this.filter):this.news},totalPages(){return Math.ceil(this.displayingNews.length/6)}},methods:{...w(p,["getArticles","switchPage"])},mounted(){this.news.length||this.getArticles(),this.switchFilter(this.$route.query.category||"")}},N=t=>(k("data-v-54fa06ff"),t=t(),v(),t),A={class:"h-100 bg-gray text-primary"},B={class:"container py-7"},I=N(()=>e("h2",{class:"text-center py-5 mb-7"},[e("b",null,"最新消息")],-1)),V={class:"mb-7"},L={class:"list-unstyled alert bg-white px-md-7 p-5 mb-7 d-flex flex-column gap-5"},q={class:"badge bg-primary fs-6 rounded-1"},D={class:"fs-7 mb-2"},M={class:"mb-0"},R={key:0,class:"d-flex justify-content-center"},j={key:1,class:"alert px-md-7 p-5 mb-0 bg-white text-center"};function z(t,E,H,Q,c,s){const f=n("CategoryFilterBar"),g=n("RouterLink"),h=n("PaginationComponent");return o(),r("div",A,[e("div",B,[I,e("div",V,[a(f,{filters:s.newsCategories,filter:c.filter,"total-title":"全部消息",onSwitchFilter:t.switchFilter},null,8,["filters","filter","onSwitchFilter"])]),s.displayingNews.length?(o(),r(d,{key:0},[e("ul",L,[(o(!0),r(d,null,b(s.displayingNews,i=>(o(),r("li",{key:i.id,class:"d-flex flex-md-row flex-column align-items-md-center gap-md-7 gap-3"},[e("div",null,[e("span",q,l(i.category),1)]),a(g,{class:"nav-link text-decoration-none",to:`/news/${i.id}`},{default:S(()=>[e("p",D,l(t.$calc.formatDate(i.create_at*1e3,"/")),1),e("p",M,l(i.title),1)]),_:2},1032,["to"])]))),128))]),s.totalPages>1?(o(),r("div",R,[a(h,{current:c.currentPage,total:s.totalPages,onSwitchPage:t.switchPage},null,8,["current","total","onSwitchPage"])])):C("",!0)],64)):(o(),r("div",j,"這個分類目前沒有消息喔！"))])])}const wt=P(F,[["render",z],["__scopeId","data-v-54fa06ff"]]);export{wt as default};
