import{a as l}from"./axios@1.6.7-Di5RpEPX.js";import{d as u}from"./pinia@2.1.7_vue@3.4.19-CHKlOEZr.js";import{l as f,a as g}from"./alert-dm0RMdUk.js";var m={VITE_APP_SITE:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"ataraxia",BASE_URL:"/2024-Art-Webshop-Project/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const a=f(),o=g(),{VITE_APP_SITE:c,VITE_APP_PATH:n}=m,A=u("userArticle",{state:()=>({articles:[],article:{},filter:"",currentPage:{column:1,news:1,project:1}}),getters:{news:({articles:e})=>e.filter(t=>t.type==="網站公告").sort((t,r)=>r.create_at-t.create_at),newsList:({news:e,currentPage:t})=>e.filter((r,i)=>Math.floor(i/5)+1===t.news),columns:({articles:e})=>e.filter(t=>t.type==="專欄文章"),columnList:({columns:e,filter:t,currentPage:r})=>{const{column:i}=r;return(t?e.filter(s=>s.category===t):e).filter((s,h)=>Math.floor(h/9)+1===i)},totalPages:({columns:e,news:t})=>({column:Math.ceil(e.length/9),news:Math.ceil(t.length/5)})},actions:{getArticles(){a.createLoader("get-user-articles"),l.get(`${c}/api/${n}/articles`).then(e=>{this.articles=e.data.articles}).catch(e=>o.errorAlert(e)).finally(()=>a.removeLoader("get-user-articles"))},getArticle(e){a.createLoader("get-single-article"),l.get(`${c}/api/${n}/article/${e}`).then(t=>{this.article=t.data.article,this.article.type==="專欄文章"?this.router.push(`/article/${this.article.id}`):this.router.push(`/news/${this.article.id}`)}).catch(t=>o.errorAlert(t)).finally(()=>a.removeLoader("get-single-article"))},switchFilter(e){this.filter=e},switchPage(e,t){this.currentPage[t]=e}}});export{A as u};
