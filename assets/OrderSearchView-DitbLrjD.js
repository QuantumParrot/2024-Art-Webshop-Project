import{m as f,a as y}from"./pinia@2.1.7_vue@3.4.19-CHKlOEZr.js";import{u as p}from"./userOrder-u8rQ-Avl.js";import{a as w}from"./adminOrder-C8HoioaN.js";import{_ as g}from"./index-BJwaS5hL.js";import{P as e,n as u,l as S}from"./@vue_shared@3.4.19-Bk7MlA8B.js";import{aj as r,O as a,P as s,V as o,F as c,ao as C,N as h,c as _,aH as T,aq as m}from"./@vue_runtime-core@3.4.19-CGfIweqO.js";import"./vue-demi@0.14.7_vue@3.4.19-Dq6ymT-8.js";import"./@vue_reactivity@3.4.19-Ddpy7v_1.js";import"./axios@1.6.7-Di5RpEPX.js";import"./alert-dm0RMdUk.js";import"./sweetalert2@11.10.5-jk-t8Na3.js";import"./@ckeditor_ckeditor5-vue@5.1.0-nhPJMPZe.js";import"./vue@3.4.19-CzIOYL8w.js";import"./@vue_runtime-dom@3.4.19-AC5g8dxk.js";import"./userCart-BE0r8f0t.js";/* empty css                               */import"./vee-validate@4.12.5_vue@3.4.19-Bp4gs7Rm.js";import"./@vee-validate_rules@4.12.5_vue@3.4.19-Bg5iSJV4.js";import"./@vee-validate_i18n@4.12.5-DXNnfMG0.js";import"./vue-axios@3.5.2_axios@1.6.7_vue@3.4.19-BaogFJPH.js";import"./moment@2.30.1-Cl4UOzQZ.js";import"./vue-loading-overlay@6.0.4_vue@3.4.19-eCggCihV.js";import"./vue-router@4.2.5_vue@3.4.19-DxgIm9Z7.js";const k={props:["order"],computed:{...f(w,["statesCode"])},methods:{...y(p,["payOrder"])}},V={class:"card p-2"},q={class:"border rounded-2 p-5"},F=s("b",{class:"p-title"},"訂單編號",-1),$=s("b",{class:"p-title"},"訂購日期",-1),j={class:"mb-3"},B=s("summary",null,[s("b",{class:"p-title"},"訂購人資訊"),o("（ 展開查看詳細 ）")],-1),I={class:"list-unstyled bg-light p-3 rounded-1 mt-3 lh-lg"},L={class:"mb-2"},P=s("b",null,"姓名",-1),z={class:"mb-2"},A=s("b",null,"電話",-1),E={class:"mb-2"},R=s("p",{class:"mb-2"},[s("b",null,"地址"),o("：")],-1),Z={class:"mb-2"},D={class:"mb-2"},G=s("b",null,"信箱",-1),H={class:"mb-2"},K=s("b",null,"選擇贊助的專案",-1),M=s("p",{class:"mb-2"},[s("b",null,"您的留言"),o("：")],-1),J={class:"mb-0"},Q=s("p",null,[s("b",{class:"p-title mb-0"},"訂購品項"),o("：")],-1),U={class:"table-responsive"},W={class:"table text-nowrap"},X=s("thead",null,[s("tr",null,[s("th",{scope:"col"}),s("th",{scope:"col",width:"20%"}),s("th",{scope:"col",width:"10%"}),s("th",{scope:"col",width:"20%"})])],-1),Y={class:"align-middle"},ss={class:"ps-0 py-3"},ts=s("td",null,[s("span",{class:"arrow-animation"},[s("span",{class:"arrow"},"→")])],-1),es={class:"pe-0 text-end"},os={class:"flex-classic"},ls=s("span",null,"NT$",-1),ns={key:0},rs=s("td",{colspan:"3",class:"fs-7 ps-0 py-3"},"優惠券折扣",-1),as={class:"pe-0 text-end"},is={class:"flex-classic"},cs=s("span",null,"NT$",-1),ds={colspan:"5",class:"px-0 py-3"},_s={class:"flex-classic"},ms={class:"mb-0"},ps=s("strong",null,"總計：",-1),us={class:"d-flex align-items-center"},hs=s("span",null,[s("b",{class:"p-title"},"付款狀態"),o("：")],-1),bs={class:"mb-0"},fs=s("span",null,[s("b",{class:"p-title"},"出貨狀態"),o("：")],-1);function ys(n,i,t,v,x,b){return r(),a("div",V,[s("div",q,[s("p",null,[F,o("："+e(t.order.id),1)]),s("p",null,[$,o("： "),s("span",null,e(n.$calc.formatTime(t.order.create_at*1e3)),1)]),s("details",j,[B,s("ul",I,[s("li",L,[P,o("："+e(t.order.user.name),1)]),s("li",z,[A,o("："+e(t.order.user.tel),1)]),s("li",E,[R,s("p",Z,e(t.order.user.address),1)]),s("li",D,[G,o("："+e(t.order.user.email),1)]),s("li",H,[K,o("："+e(t.order.project),1)]),s("li",null,[M,s("p",J,e(t.order.message),1)])])]),Q,s("div",U,[s("table",W,[X,s("tbody",Y,[(r(!0),a(c,null,C(t.order.products,(l,d)=>(r(),a(c,{key:d},[s("tr",null,[s("td",ss,e(l.product.title),1),s("td",null,e(l.qty)+" "+e(l.product.unit),1),ts,s("td",es,[s("div",os,[ls,s("span",{class:u({"text-decoration-line-through":l.coupon})},e(l.total),3)])])]),l.coupon?(r(),a("tr",ns,[rs,s("td",as,[s("div",is,[cs,s("span",null,[s("b",null,e(+l.final_total.toFixed(0)),1)])])])])):h("",!0)],64))),128))]),s("tfoot",null,[s("tr",null,[s("td",ds,[s("div",_s,[s("p",ms,[ps,o("NT$ "+e(t.order.total),1)]),t.order.is_paid?h("",!0):(r(),a("button",{key:0,type:"button",class:"btn btn-highlight",onClick:i[0]||(i[0]=l=>n.payOrder(t.order.id))}," 付款去"))])])])])]),s("p",us,[hs,s("span",{class:u(["me-2",t.order.is_paid?"text-success":"text-danger"])},e(t.order.is_paid?"已付款":"未付款"),3)]),s("p",bs,[fs,s("span",{style:S({color:n.statesCode[t.order.state].color})},e(n.statesCode[t.order.state].title),5)])])])])}const gs=g(k,[["render",ys]]),vs={components:{orderTemplate:gs},computed:{...f(p,["order"])},methods:{...y(p,["getOrder","payOrder"]),submitOrderId({id:n},{resetForm:i}){this.getOrder(n,i)}}},xs=s("h3",{class:"h2 mb-7"},[s("i",{class:"bi bi-search me-3"}),s("span",null,"查詢訂單進度")],-1),Ns=s("label",{for:"search",class:"mb-5"},"請輸入訂單編號：",-1),Os={class:"input-group mb-5"},ws=s("button",{type:"submit",class:"btn btn-primary"},[s("i",{class:"bi bi-search"})],-1),Ss=s("details",{class:"alert bg-light text-primary mb-5"},[s("summary",null,"可供測試的範例"),s("ul",{class:"list-unstyled mt-4 mb-0"},[s("li",{class:"mb-3"},"-Nr_GNNyiZSiTAKt9xTw"),s("li",null,"-NsI1R_8ZLLjqPwoERMF")])],-1),Cs=s("p",{class:"mb-5"},"您的訂單：",-1);function Ts(n,i,t,v,x,b){const l=m("v-field"),d=m("v-form"),N=m("order-template");return r(),a(c,null,[xs,Ns,_(d,{onSubmit:b.submitOrderId},{default:T(({errors:O})=>[s("div",Os,[_(l,{id:"search",type:"text",class:u(["form-control",{"is-invalid":O.id}]),name:"id",rules:"required","validate-on-change":!0},null,8,["class"]),ws])]),_:1},8,["onSubmit"]),Ss,n.order.id?(r(),a(c,{key:0},[Cs,_(N,{order:n.order},null,8,["order"])],64)):h("",!0)],64)}const Ws=g(vs,[["render",Ts]]);export{Ws as default};
