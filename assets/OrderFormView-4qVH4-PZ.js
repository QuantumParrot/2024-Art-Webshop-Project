import{v as f}from"./validation-C0VNgoV8.js";import{m as v,a as g}from"./pinia@2.1.7_vue@3.4.19-CHKlOEZr.js";import{c as y}from"./userCart-BE0r8f0t.js";import{u as k}from"./userOrder-u8rQ-Avl.js";import{_ as x}from"./index-DzJG4CIs.js";import{M as w,aH as i,aq as r,aj as m,P as s,O as p,ao as q,F as S,N as C,V as h,c as a,al as N,ak as V}from"./@vue_runtime-core@3.4.19-CGfIweqO.js";import{P as l,n as _}from"./@vue_shared@3.4.19-Bk7MlA8B.js";import"./vue-demi@0.14.7_vue@3.4.19-Dq6ymT-8.js";import"./@vue_reactivity@3.4.19-Ddpy7v_1.js";import"./axios@1.6.7-Di5RpEPX.js";import"./alert-dm0RMdUk.js";import"./sweetalert2@11.10.5-jk-t8Na3.js";import"./@ckeditor_ckeditor5-vue@5.1.0-nhPJMPZe.js";import"./vue@3.4.19-CzIOYL8w.js";import"./@vue_runtime-dom@3.4.19-AC5g8dxk.js";/* empty css                               */import"./vee-validate@4.12.5_vue@3.4.19-Bp4gs7Rm.js";import"./@vee-validate_rules@4.12.5_vue@3.4.19-Bg5iSJV4.js";import"./@vee-validate_i18n@4.12.5-DXNnfMG0.js";import"./vue-axios@3.5.2_axios@1.6.7_vue@3.4.19-BaogFJPH.js";import"./moment@2.30.1-Cl4UOzQZ.js";import"./vue-loading-overlay@6.0.4_vue@3.4.19-eCggCihV.js";import"./vue-router@4.2.5_vue@3.4.19-DxgIm9Z7.js";const z={mixins:[f],computed:{...v(y,["carts","sum"])},methods:{...g(k,["createOrder"])},created(){this.carts.length||this.$router.replace("/checkout/carts")}},o=e=>(N("data-v-2c0412e4"),e=e(),V(),e),O={class:"alert bg-white p-lg-7 p-5 shadow-sm mb-5"},$={class:"accordion mb-5","aria-expanded":"false"},j={class:"accordion-item overflow-hidden"},B=o(()=>s("div",{class:"accordion-header"},[s("button",{type:"button",class:"bg-gray accordion-button collapsed","aria-expanded":"false","data-bs-toggle":"collapse","data-bs-target":"#accordion"},[s("b",null,"查看訂單明細")])],-1)),I={class:"accordion-collapse collapse","aria-expanded":"false",id:"accordion"},T={class:"table-responsive px-lg-7 p-5 pb-0",style:{"max-height":"300px"}},F={class:"table table-hover text-nowrap mb-0"},P=o(()=>s("thead",null,[s("tr",null,[s("th",{scope:"col",width:"40%",class:"pb-3"},"項目"),s("th",{scope:"col",width:"30%",class:"text-end pb-3"},"數量"),s("th",{scope:"col",width:"30%",class:"text-end pb-3"},"小計")])],-1)),M={class:"align-middle"},A={class:"py-3"},D={class:"text-end"},E={class:"text-end"},H={key:0},L={colspan:"2",class:"py-3"},G={class:"text-end text-danger"},J={class:"sticky-bottom"},K={colspan:"3",class:"text-end py-5 border-0"},Q={class:"flex-classic fs-5"},R=o(()=>s("span",null,[s("b",null,"總計")],-1)),U={class:"p-md-7 p-5 border rounded-1"},W={class:"mb-5"},X=o(()=>s("label",{for:"name",class:"form-label is-required"},"收件人姓名",-1)),Y={class:"invalid-feedback"},Z={class:"mb-5"},ss=o(()=>s("label",{for:"tel",class:"form-label is-required"},"收件人手機",-1)),es={class:"invalid-feedback"},ts={class:"mb-5"},os=o(()=>s("label",{for:"email",class:"form-label is-required"},"收件人信箱",-1)),as={class:"invalid-feedback"},ls={class:"mb-5"},is=o(()=>s("label",{for:"address",class:"form-label is-required"},"收件人地址",-1)),cs={class:"invalid-feedback"},ds={class:"mb-5"},ns=o(()=>s("label",{for:"project",class:"form-label"},"選擇您想贊助的計畫",-1)),rs=o(()=>s("option",{value:"",selected:""},"不指定",-1)),ms=o(()=>s("option",{value:"野生動物救援計畫"},"野生動物救援計畫",-1)),_s=o(()=>s("option",{value:"海洋保育計畫"},"海洋保育計畫",-1)),ps=o(()=>s("label",{for:"message",class:"form-label"},"備註與留言",-1)),hs={class:"flex-classic"},us=["onClick"],bs=o(()=>s("span",{class:"text-highlight"},[s("i",{class:"bi bi-caret-left-fill"})],-1)),fs=o(()=>s("button",{type:"submit",class:"btn btn-highlight rounded-1"}," 送出訂單",-1));function vs(e,gs,ys,ks,xs,ws){const c=r("v-field"),d=r("error-message"),u=r("router-link"),b=r("v-form");return m(),w(b,{onSubmit:e.createOrder},{default:i(({errors:n})=>[s("div",O,[s("div",$,[s("div",j,[B,s("div",I,[s("div",T,[s("table",F,[P,s("tbody",M,[(m(!0),p(S,null,q(e.carts,t=>(m(),p("tr",{key:t.id},[s("td",A,l(t.product.title),1),s("td",D,l(t.qty),1),s("td",E,l(t.total),1)]))),128)),e.carts[0].coupon?(m(),p("tr",H,[s("td",L,[s("span",null,"優惠券："+l(e.carts[0].coupon.code),1)]),s("td",G," － "+l(e.sum.total-e.sum.finalTotal),1)])):C("",!0)]),s("tfoot",J,[s("tr",null,[s("td",K,[s("div",Q,[R,s("span",null,[h("NT＄"),s("b",null,l(e.sum.finalTotal),1)])])])])])])])])])]),s("div",U,[s("div",W,[X,a(c,{id:"name",type:"text",class:_(["form-control mb-3",{"is-invalid":n.name}]),name:"name",rules:"required"},null,8,["class"]),a(d,{name:"name"},{default:i(({message:t})=>[s("p",Y,l(e.localize(t,"name")),1)]),_:1})]),s("div",Z,[ss,a(c,{id:"tel",type:"tel",class:_(["form-control mb-3",{"is-invalid":n.tel}]),name:"tel",rules:e.isPhone},null,8,["class","rules"]),a(d,{name:"tel"},{default:i(({message:t})=>[s("p",es,l(e.localize(t,"tel")),1)]),_:1})]),s("div",ts,[os,a(c,{id:"email",type:"email",class:_(["form-control mb-3",{"is-invalid":n.email}]),name:"email",rules:"required|email"},null,8,["class"]),a(d,{name:"email"},{default:i(({message:t})=>[s("p",as,l(e.localize(t,"email")),1)]),_:1})]),s("div",ls,[is,a(c,{id:"address",type:"text",class:_(["form-control mb-3",{"is-invalid":n.address}]),name:"address",rules:"required"},null,8,["class"]),a(d,{name:"address"},{default:i(({message:t})=>[s("p",cs,l(e.localize(t,"address")),1)]),_:1})]),s("div",ds,[ns,a(c,{id:"project",name:"project",as:"select",class:"form-select"},{default:i(()=>[rs,ms,_s]),_:1})]),s("div",null,[ps,a(c,{id:"message",name:"message",rows:"5",class:"form-control",as:"textarea"})])])]),s("div",hs,[a(u,{to:"/checkout/carts"},{default:i(({navigate:t})=>[s("button",{type:"button",class:"btn btn-outline-secondary rounded-1",onClick:t},[bs,h(" 上一步")],8,us)]),_:1}),fs])]),_:1},8,["onSubmit"])}const Qs=x(z,[["render",vs],["__scopeId","data-v-2c0412e4"]]);export{Qs as default};
