import{m,a as p}from"./pinia@2.1.7_vue@3.4.19-BGrtT45R.js";import{u}from"./userProduct-DCBWQa0S.js";import{P as C,u as d}from"./ProductCard-BRXuRRDK.js";import{P as b}from"./PaginationComponent-BNfjukmQ.js";import{_ as k}from"./index-qANNvTn4.js";import{A as e,Q as o,F as n,c as a,ao as y,aH as w,W as h,aq as c,z as r}from"./@vue_runtime-core@3.4.19-CKRBtKAL.js";import{P as x}from"./@vue_shared@3.4.19-Bk7MlA8B.js";import"./vue-demi@0.14.7_vue@3.4.19-Dq6ymT-8.js";import"./@vue_reactivity@3.4.19-Ddpy7v_1.js";import"./axios@1.6.7-Di5RpEPX.js";import"./alert-9WsjHxyk.js";import"./sweetalert2@11.10.5-BAvl06kU.js";import"./@ckeditor_ckeditor5-vue@5.1.0-nKXmQdRT.js";import"./vue@3.4.19-DAUBsDVh.js";import"./@vue_runtime-dom@3.4.19-DAqtRikk.js";import"./userCart-CtB4Y8ic.js";/* empty css                               *//* empty css                          */import"./vee-validate@4.12.5_vue@3.4.19-BmIHdE2I.js";import"./@vee-validate_rules@4.12.5_vue@3.4.19-DqtB_02U.js";import"./@vee-validate_i18n@4.12.5-DXNnfMG0.js";import"./vue-axios@3.5.2_axios@1.6.7_vue@3.4.19-BaogFJPH.js";import"./vue3-lottie@3.3.0_vue@3.4.19-BfItuFlz.js";import"./lottie-web@5.12.2-CU4Beet5.js";import"./moment@2.30.1-Cl4UOzQZ.js";import"./vue-loading-overlay@6.0.4_vue@3.4.19-Cjw3eg2V.js";import"./vue-router@4.2.5_vue@3.4.19-BBAnl9m5.js";import"./aos@2.3.4-Cu9ud2ZH.js";const S={data(){return{currentPage:1}},components:{ProductCard:C,PaginationComponent:b},computed:{...m(d,["collection"]),...m(u,["totalProducts"]),totalPages(){return Math.ceil(this.collection.length/6)},totalItems(){return this.totalProducts.filter(t=>this.collection.includes(t.id))},displaying(){return this.totalItems.filter((t,i)=>Math.floor(i/6)+1===this.currentPage)}},methods:{...p(d,["getCollection","updateCollection","clearCollection"]),...p(u,["getTotalProducts"]),switchPage(t){this.currentPage=t}},watch:{totalProducts(){this.getCollection()},totalPages(t){t<this.currentPage&&this.switchPage(1)},collection:{handler(){this.updateCollection()},deep:!0}},mounted(){this.totalProducts.length||this.getTotalProducts()}},v=o("h3",{class:"h2 mb-7"},[o("i",{class:"bi bi-bookmark-heart me-3"}),o("span",null,"我的收藏")],-1),V={class:"flex-classic mb-5"},B=["disabled"],L={class:"mb-5"},N={class:"list-unstyled row g-4"},T={key:1,class:"alert bg-light text-primary"},A=o("span",null,"目前沒有任何收藏哦！去",-1);function F(t,i,I,M,g,l){const P=c("PaginationComponent"),_=c("ProductCard"),f=c("RouterLink");return r(),e(n,null,[v,o("div",V,[o("h4",null,"商品收藏（ 共 "+x(t.collection.length)+" 筆 ）",1),o("button",{type:"button",class:"btn btn-outline-light",onClick:i[0]||(i[0]=(...s)=>t.clearCollection&&t.clearCollection(...s)),disabled:!t.collection.length}," 清空收藏",8,B)]),l.displaying.length?(r(),e(n,{key:0},[o("div",L,[a(P,{current:g.currentPage,total:l.totalPages,onSwitchPage:l.switchPage},null,8,["current","total","onSwitchPage"])]),o("ul",N,[(r(!0),e(n,null,y(l.displaying,s=>(r(),e("li",{key:s.id,class:"col-xxl-4 col-xl-6"},[a(_,{product:s},null,8,["product"])]))),128))])],64)):(r(),e("div",T,[A,a(f,{class:"text-info",to:"/products"},{default:w(()=>[h("逛逛")]),_:1}),h("吧！ ")]))],64)}const mt=k(S,[["render",F]]);export{mt as default};
