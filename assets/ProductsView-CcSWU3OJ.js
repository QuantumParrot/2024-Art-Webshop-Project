import{m as _,a as h}from"./pinia@2.1.7_vue@3.4.19-CHKlOEZr.js";import{u as g}from"./userProduct-tBM786bC.js";import{u as k}from"./userCart-CwJ9JZ01.js";import{l as w}from"./loader-CArRiQTv.js";import{P}from"./PaginationComponent-BUcXpeom.js";import{_ as $}from"./index-CeaPsIIs.js";import{O as e,P as t,c as n,aH as d,F as p,ao as y,N as m,aq as f,aj as a,V as b,al as C,ak as S}from"./@vue_runtime-core@3.4.19-CGfIweqO.js";import{n as v,P as l}from"./@vue_shared@3.4.19-Bk7MlA8B.js";import"./vue-demi@0.14.7_vue@3.4.19-Dq6ymT-8.js";import"./@vue_reactivity@3.4.19-Ddpy7v_1.js";import"./axios@1.6.7-Di5RpEPX.js";import"./alert-C5k3uZHZ.js";import"./sweetalert2@11.10.5-BCnrvazC.js";import"./@ckeditor_ckeditor5-vue@5.1.0-CegNn2NB.js";import"./vue@3.4.19-CdjQKHui.js";import"./@vue_runtime-dom@3.4.19-AC5g8dxk.js";/* empty css                               */import"./vee-validate@4.12.5_vue@3.4.19-Bp4gs7Rm.js";import"./@vee-validate_rules@4.12.5_vue@3.4.19-Bg5iSJV4.js";import"./@vee-validate_i18n@4.12.5-DXNnfMG0.js";import"./vue-axios@3.5.2_axios@1.6.7_vue@3.4.19-BaogFJPH.js";import"./moment@2.30.1-Cl4UOzQZ.js";import"./vue-loading-overlay@6.0.4_vue@3.4.19-DG0Fkrwv.js";import"./vue-router@4.2.5_vue@3.4.19-DxgIm9Z7.js";const x={data(){return{categories:["複製油畫","複製雕塑","玩具模型","裝飾雜貨","文具禮品"]}}},T={components:{PaginationComponent:P},mixins:[x],computed:{..._(g,["products","pagination"]),..._(w,["loadingTask"])},watch:{"$route.query":{handler(s){this.getProducts(s.category)},deep:!0}},methods:{...h(g,["getProducts"]),...h(k,["addToCart"])},mounted(){this.getProducts(this.$route.query.category)}},i=s=>(C("data-v-6a27a4e2"),s=s(),S(),s),N={class:"h-100 bg-gray text-primary"},V={class:"container py-7"},q=i(()=>t("h3",{class:"h2 text-center mb-7"},"商品一覽",-1)),j={class:"nav flex-column flex-md-row mb-7"},I={class:"nav-item"},B={key:0,class:"d-flex justify-content-center mb-7"},F={key:1,class:"row g-6 list-unstyled mb-7"},L={class:"h-100 card border-0 rounded-0 shadow"},z={class:"overflow-hidden"},A={class:"card-img"},D=["src","alt"],E=i(()=>t("div",{class:"card-navigate"},[t("button",{type:"button",class:"btn fs-4 text-light"},[t("i",{class:"bi bi-search"})])],-1)),H={class:"card-body py-5 row"},M={class:"col-9"},O={class:"h-100 d-flex flex-column justify-content-between"},U={class:"flex-grow-1 d-flex gap-3 mb-3"},G={class:"fs-5 fw-bold text-primary text-nowrap overflow-scroll mb-0"},J={class:"fs-6"},K=i(()=>t("span",null,"NT＄",-1)),Q={class:"text-decoration-line-through text-muted"},R=i(()=>t("span",{class:"arrow-animation"},[t("span",{class:"arrow"}," → ")],-1)),W={class:"fw-bold"},X={class:"col-3"},Y={class:"d-flex flex-column align-items-end"},Z=["onClick","disabled"],tt={key:0,role:"status",class:"spinner-border spinner-border-sm"},st=i(()=>t("span",{class:"visually-hidden"},"Loading...",-1)),ot=[st],et={key:1,class:"bi bi-cart-plus-fill"},at=i(()=>t("button",{type:"button",class:"btn btn-outline-primary"},[t("i",{class:"bi bi-heart"})],-1)),it={key:2,class:"alert text-center mb-7"},nt={key:3,class:"d-flex justify-content-center"};function rt(s,r,lt,ct,dt,pt){const c=f("router-link"),u=f("pagination-component");return a(),e("div",N,[t("div",V,[q,t("ul",j,[t("li",I,[n(c,{to:"/products",class:v(["nav-link",{"link-active":!s.$route.query.category}])},{default:d(()=>[b(" 全部")]),_:1},8,["class"])]),(a(!0),e(p,null,y(s.categories,o=>(a(),e("li",{key:o,class:"nav-item"},[n(c,{to:`/products?category=${o}`,class:v(["nav-link",{"link-active":s.$route.query.category===o}])},{default:d(()=>[b(l(o),1)]),_:2},1032,["to","class"])]))),128))]),s.products.length?(a(),e("div",B,[n(u,{current:s.pagination.current_page,total:s.pagination.total_pages,onSwitchPage:r[0]||(r[0]=o=>s.getProducts(s.pagination.category,o))},null,8,["current","total"])])):m("",!0),s.products.length?(a(),e("ul",F,[(a(!0),e(p,null,y(s.products,o=>(a(),e("li",{key:o.id,class:"col-xl-4 col-md-6"},[t("div",L,[t("div",z,[t("div",A,[n(c,{to:`/product/${o.id}`},{default:d(()=>[t("img",{class:"card-img-top",src:o.imageUrl,alt:o.title},null,8,D),E]),_:2},1032,["to"])])]),t("div",H,[t("div",M,[t("div",O,[t("div",U,[t("h4",G,l(o.title),1)]),t("div",J,[K,o.price<o.origin_price?(a(),e(p,{key:0},[t("span",null,[t("span",Q,l(o.origin_price),1)]),R],64)):m("",!0),t("span",W,l(o.price),1)])])]),t("div",X,[t("div",Y,[t("button",{type:"button",class:"btn btn-primary",onClick:mt=>s.addToCart(o.id),disabled:s.loadingTask===o.id},[s.loadingTask===o.id?(a(),e("div",tt,ot)):(a(),e("i",et))],8,Z),at])])])])]))),128))])):(a(),e("div",it,"這個分類目前沒有商品喔！")),s.products.length?(a(),e("div",nt,[n(u,{current:s.pagination.current_page,total:s.pagination.total_pages,onSwitchPage:r[1]||(r[1]=o=>s.getProducts(s.pagination.category,o))},null,8,["current","total"])])):m("",!0)])])}const zt=$(T,[["render",rt],["__scopeId","data-v-6a27a4e2"]]);export{zt as default};
