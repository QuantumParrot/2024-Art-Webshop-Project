import{d as b,m as w,a as S}from"./pinia@2.1.7_vue@3.4.19-4NNq-WPh.js";import{a as k}from"./axios@1.6.7-Di5RpEPX.js";import{l as $}from"./loader-BKOny_iI.js";import{a as x}from"./alert-C8z9YHNp.js";import{P as V}from"./PaginationComponent-CXnoe1Ls.js";import{_ as A}from"./index-xG1ACHlj.js";import{O as s,P as t,c as i,aH as p,F as u,ao as g,N as m,aq as h,aj as a,V as f,al as E,ak as I}from"./@vue_runtime-core@3.4.19-CzGklseq.js";import{n as y,P as c}from"./@vue_shared@3.4.19-Bk7MlA8B.js";import"./vue-demi@0.14.7_vue@3.4.19-Dq6ymT-8.js";import"./@vue_reactivity@3.4.19-Ddpy7v_1.js";import"./sweetalert2@11.10.5-szm5w3W2.js";import"./@ckeditor_ckeditor5-vue@5.1.0-CfUo4zCs.js";import"./vue@3.4.19-dGbATgA4.js";import"./@vue_runtime-dom@3.4.19-DVfTC9pq.js";/* empty css                               */import"./vee-validate@4.12.5_vue@3.4.19-CIwtLcK9.js";import"./@vee-validate_rules@4.12.5_vue@3.4.19-CtCrC8gK.js";import"./@vee-validate_i18n@4.12.5-DXNnfMG0.js";import"./vue-axios@3.5.2_axios@1.6.7_vue@3.4.19-BaogFJPH.js";import"./moment@2.30.1-Cl4UOzQZ.js";import"./vue-loading-overlay@6.0.4_vue@3.4.19-Ds2EadH1.js";import"./vue-router@4.2.5_vue@3.4.19-CGkOaO3i.js";const T={data(){return{categories:["複製油畫","複製雕塑","玩具模型","裝飾雜貨","文具禮品"]}}};var N={VITE_APP_SITE:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"ataraxia",BASE_URL:"/2024-Art-Webshop-Project/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const v=$(),j=x(),{VITE_APP_SITE:q,VITE_APP_PATH:C}=N,P=b("userProduct",{state:()=>({products:[],pagination:{}}),actions:{getProducts(o="",r=1){v.createLoader("get-user-products"),k.get(`${q}/api/${C}/products?category=${o}&page=${r}`).then(n=>{this.products=n.data.products,this.pagination=n.data.pagination}).catch(n=>j.errorAlert(n)).finally(()=>v.removeLoader("get-user-products"))},getProduct(){}}}),B={components:{PaginationComponent:V},mixins:[T],computed:{...w(P,["products","pagination"])},watch:{"$route.query":{handler(o){this.getProducts(o.category)},deep:!0}},methods:{...S(P,["getProducts"])},mounted(){this.getProducts(this.$route.query.category)}},l=o=>(E("data-v-05e41e18"),o=o(),I(),o),D={class:"h-100 h-100 bg-gray text-primary"},L={class:"container py-7"},H=l(()=>t("h3",{class:"h2 text-center mb-7"},"商品一覽",-1)),O={class:"nav flex-column flex-md-row mb-7"},R={class:"nav-item"},F={key:0,class:"d-flex justify-content-center mb-7"},M={key:1,class:"row g-6 list-unstyled mb-7"},U={class:"h-100 card border-0 rounded-0 shadow"},z={class:"overflow-hidden"},W={class:"card-img"},G=["src","alt"],J=l(()=>t("div",{class:"card-navigate"},[t("button",{type:"button",class:"btn btn-outline-light"},[t("i",{class:"bi bi-search"})])],-1)),K={class:"card-body py-5 d-flex flex-column justify-content-between"},Q={class:"flex-grow-1"},X={class:"card-title h6 fw-bold text-nowrap overflow-scroll d-flex align-items-center mb-3"},Y={class:"bg-primary text-light px-2 py-2"},Z={class:"px-2"},tt={class:"fs-5 flex-classic"},ot=l(()=>t("span",null,"NT＄",-1)),et={class:"text-decoration-line-through text-muted"},st=l(()=>t("span",{class:"arrow-animation"},[t("span",{class:"arrow"}," → ")],-1)),at={class:"fw-bold"},rt=l(()=>t("button",{type:"button",class:"btn btn-highlight text-white rounded-1"},[t("i",{class:"bi bi-cart-fill"})],-1)),nt={key:2,class:"alert text-center mb-7"},it={key:3,class:"d-flex justify-content-center"};function ct(o,r,n,lt,dt,pt){const d=h("router-link"),_=h("pagination-component");return a(),s("div",D,[t("div",L,[H,t("ul",O,[t("li",R,[i(d,{to:"/products",class:y(["nav-link",{"link-active":!o.$route.query.category}])},{default:p(()=>[f(" 全部")]),_:1},8,["class"])]),(a(!0),s(u,null,g(o.categories,e=>(a(),s("li",{key:e,class:"nav-item"},[i(d,{to:`/products?category=${e}`,class:y(["nav-link",{"link-active":o.$route.query.category===e}])},{default:p(()=>[f(c(e),1)]),_:2},1032,["to","class"])]))),128))]),o.products.length?(a(),s("div",F,[i(_,{current:o.pagination.current_page,total:o.pagination.total_pages,onSwitchPage:r[0]||(r[0]=e=>o.getProducts(o.pagination.category,e))},null,8,["current","total"])])):m("",!0),o.products.length?(a(),s("ul",M,[(a(!0),s(u,null,g(o.products,e=>(a(),s("li",{key:e.id,class:"col-xl-4 col-md-6"},[t("div",U,[t("div",z,[t("div",W,[i(d,{to:`/product/${e.id}`},{default:p(()=>[t("img",{class:"card-img-top",src:e.imageUrl,alt:e.title},null,8,G),J]),_:2},1032,["to"])])]),t("div",K,[t("div",Q,[t("h4",X,[t("span",Y,c(e.category),1),t("span",Z,c(e.title),1)])]),t("div",tt,[t("div",null,[ot,e.price<e.origin_price?(a(),s(u,{key:0},[t("span",null,[t("span",et,c(e.origin_price),1)]),st],64)):m("",!0),t("span",at,c(e.price),1)]),rt])])])]))),128))])):(a(),s("div",nt,"這個分類目前沒有商品喔！")),o.products.length?(a(),s("div",it,[i(_,{current:o.pagination.current_page,total:o.pagination.total_pages,onSwitchPage:r[1]||(r[1]=e=>o.getProducts(o.pagination.category,e))},null,8,["current","total"])])):m("",!0)])])}const qt=A(B,[["render",ct],["__scopeId","data-v-05e41e18"]]);export{qt as default};
