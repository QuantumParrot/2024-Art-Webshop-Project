import{m as u,a as b}from"./pinia@2.1.7_vue@3.4.19-CHKlOEZr.js";import{u as f}from"./userProduct-CQNpmBdV.js";import{c as y}from"./userCart-Cjbn3B9E.js";import{l as w}from"./alert-rz954VAU.js";import{l as k,m as x,n as C}from"./@vue_runtime-dom@3.4.19-AC5g8dxk.js";import{_ as q}from"./index-DjhTBvR6.js";import{O as r,P as t,F as c,ao as p,N as h,V as m,aJ as v,U as I,aj as l,al as S,ak as T}from"./@vue_runtime-core@3.4.19-CGfIweqO.js";import{n as d,P as a}from"./@vue_shared@3.4.19-Bk7MlA8B.js";import"./vue-demi@0.14.7_vue@3.4.19-Dq6ymT-8.js";import"./@vue_reactivity@3.4.19-Ddpy7v_1.js";import"./axios@1.6.7-Di5RpEPX.js";import"./sweetalert2@11.10.5-BCnrvazC.js";import"./@ckeditor_ckeditor5-vue@5.1.0-CegNn2NB.js";import"./vue@3.4.19-CdjQKHui.js";/* empty css                               */import"./vee-validate@4.12.5_vue@3.4.19-Bp4gs7Rm.js";import"./@vee-validate_rules@4.12.5_vue@3.4.19-Bg5iSJV4.js";import"./@vee-validate_i18n@4.12.5-DXNnfMG0.js";import"./vue-axios@3.5.2_axios@1.6.7_vue@3.4.19-BaogFJPH.js";import"./moment@2.30.1-Cl4UOzQZ.js";import"./vue-loading-overlay@6.0.4_vue@3.4.19-DG0Fkrwv.js";import"./vue-router@4.2.5_vue@3.4.19-DxgIm9Z7.js";const P={data(){return{frame:"",frameSetting:{wooden:"frame-wooden",golden:"frame-golden",dark:"frame-dark"},mainImage:"",quantity:1}},computed:{...u(f,["product","relatedProducts"]),...u(w,["isLoading","loadingTask"]),displayImages(){const{imageUrl:s,imagesUrl:e}=this.product;return Array.isArray(e)?[s,...e]:[s]}},watch:{"$route.params":{handler(){this.getProduct(this.$route.params.id)},deep:!0},product(){this.mainImage=this.product.imageUrl,this.quantity=1,this.frame=""},quantity(s){Number.isInteger(s)?s<1&&(this.quantity=1):this.quantity=Math.floor(this.quantity)}},methods:{...b(f,["getProduct"]),...b(y,["addToCart"])},mounted(){this.getProduct(this.$route.params.id)}},n=s=>(S("data-v-f8b832c3"),s=s(),T(),s),j={class:"h-100 bg-gray text-primary"},N={class:"container py-7"},V={class:"d-flex justify-content-center"},U=["src","alt"],A={class:"bg-light rounded-2 p-3 mb-5 d-flex gap-3"},B=["src","alt","onClick"],D={key:0,class:"d-flex gap-3 mb-5"},L={class:"text-black mb-5"},M={class:"mb-0"},F=n(()=>t("hr",null,null,-1)),z={class:"row g-5 mb-5"},E={class:"col-xl-7 order-xl-1 order-2"},J={class:"h-100 d-flex flex-column"},O={class:"flex-grow-1 alert bg-light p-5 mb-5"},G={class:"h-100 border border-gray shadow-sm rounded-2 p-5 pb-6 d-flex flex-column justify-content-between"},H=n(()=>t("h3",{class:"lh-lg fs-4 text-dark fw-bold mb-5"},[t("span",{class:"section-title"},"關於它的故事")],-1)),K={class:"lh-lg pre-wrap text-justify mb-6"},Q={class:"d-flex gap-2 flex-nowrap text-nowrap overflow-scroll"},R=n(()=>t("div",{class:"alert bg-light p-5 mb-0"},[t("p",{class:"lh-lg mb-0"},[t("i",{class:"bi bi-c-circle me-1"}),m(" 圖片與文字出處請參閱："),t("a",{target:"_blank",href:"https://www.notion.so/9f522b0de5c2413c8090249c96bd692a?v=5b0f1f1c376f4b468a56aaec87a97c8a"},"本站索引")])],-1)),W={class:"col-xl-5 order-xl-2 order-1"},X={class:"sticky-sidebar"},Y={class:"alert bg-light p-5 mb-5"},Z=n(()=>t("h4",{class:"fs-5 text-dark fw-bold mb-4"},"購買須知",-1)),$={class:"lh-lg pre-wrap text-justify mb-0"},tt={class:"alert bg-light p-5 mb-5"},st={class:"mb-5"},ot={class:"text-nowrap overflow-scroll"},et=n(()=>t("span",{class:"fs-6 badge bg-primary px-3 py-2 me-2"},"規格",-1)),it={class:"text-nowrap overflow-scroll"},at=n(()=>t("span",{class:"fs-6 badge bg-primary px-3 py-2 me-2"},"單位",-1)),nt={class:"alert bg-white p-5 mb-0"},rt={class:"fs-5 fw-bold mb-5"},lt=n(()=>t("span",null,"NT＄",-1)),dt={class:"text-muted text-decoration-line-through"},ct=n(()=>t("span",{class:"arrow-animation"},[t("span",{class:"arrow"},"→")],-1)),pt={class:"row g-3"},mt={class:"col-sm-8"},ut={class:"input-group"},bt=["disabled"],ft=n(()=>t("i",{class:"bi bi-dash"},null,-1)),ht=[ft],vt=n(()=>t("i",{class:"bi bi-plus"},null,-1)),_t=[vt],gt={class:"col-sm-4 text-end"},yt=["disabled"],wt={role:"status",class:"spinner-border spinner-border-sm me-2"},kt=n(()=>t("span",{class:"visually-hidden"},"Loading...",-1)),xt=[kt],Ct=I('<div class="alert bg-light p-5 mb-0" data-v-f8b832c3><div class="row g-3" data-v-f8b832c3><div class="col-sm-4" data-v-f8b832c3><div class="d-flex flex-sm-column justify-content-sm-center align-items-center" data-v-f8b832c3><div class="bg-white rounded-pill shadow-sm px-3 py-2 mb-sm-3 me-sm-0 me-3" data-v-f8b832c3><i class="bi bi-truck fs-3" data-v-f8b832c3></i></div><span data-v-f8b832c3>專業物流配送</span></div></div><div class="col-sm-4" data-v-f8b832c3><div class="d-flex flex-sm-column justify-content-sm-center align-items-center" data-v-f8b832c3><div class="bg-white rounded-pill shadow-sm px-3 py-2 mb-sm-3 me-sm-0 me-3" data-v-f8b832c3><i class="bi bi-7-circle fs-3" data-v-f8b832c3></i></div><span data-v-f8b832c3>七天鑑賞期</span></div></div><div class="col-sm-4" data-v-f8b832c3><div class="d-flex flex-sm-column justify-content-sm-center align-items-center" data-v-f8b832c3><div class="bg-white rounded-pill shadow-sm px-3 py-2 mb-sm-3 me-sm-0 me-3" data-v-f8b832c3><i class="bi bi-recycle fs-3" data-v-f8b832c3></i></div><span data-v-f8b832c3>採用環保包裝</span></div></div></div></div>',1),qt={class:"alert bg-white p-5"},It=n(()=>t("h4",{class:"text-center mb-5"},"為您推薦",-1)),St={class:"row g-5"},Tt=["onClick"],Pt={class:"card"},jt=["src","alt"],Nt={class:"card-body py-5 flex-classic"},Vt={class:"fs-6 fw-bold mb-0"},Ut={class:"mb-0"};function At(s,e,Bt,Dt,i,_){return l(),r("div",j,[t("div",N,[t("div",V,[t("div",null,[t("img",{class:d(["main-img mb-5",i.frame?i.frameSetting[i.frame]:""]),src:i.mainImage,alt:s.product.title,width:"600"},null,10,U),t("div",A,[(l(!0),r(c,null,p(_.displayImages,o=>(l(),r("img",{key:o,class:d(["display-img",{"opacity-50":o!==i.mainImage}]),src:o,alt:s.product.title,onClick:g=>i.mainImage=o},null,10,B))),128))]),s.product.category==="複製油畫"?(l(),r("div",D,[t("button",{type:"button",class:d(["btn btn-outline-primary fw-bold",{active:i.frame===""}]),onClick:e[0]||(e[0]=o=>i.frame="")}," 不加框",2),t("button",{type:"button",class:d(["btn btn-outline-primary fw-bold",{active:i.frame==="dark"}]),onClick:e[1]||(e[1]=o=>i.frame="dark")}," 黑",2),t("button",{type:"button",class:d(["btn btn-outline-primary fw-bold",{active:i.frame==="wooden"}]),onClick:e[2]||(e[2]=o=>i.frame="wooden")}," 淺木",2),t("button",{type:"button",class:d(["btn btn-outline-primary fw-bold",{active:i.frame==="golden"}]),onClick:e[3]||(e[3]=o=>i.frame="golden")}," 金",2)])):h("",!0),t("h2",L,a(s.product.title),1),t("p",M,a(s.product.subtitle),1)])]),F,t("div",z,[t("div",E,[t("div",J,[t("div",O,[t("div",G,[t("div",null,[H,t("div",K,a(s.product.description),1)]),t("div",Q,[(l(!0),r(c,null,p(s.product.tags,o=>(l(),r("span",{key:o,class:"badge bg-primary fs-6 py-2"},a(o),1))),128))])])]),R])]),t("div",W,[t("div",X,[t("div",Y,[Z,t("p",$,a(s.product.notes||"無"),1)]),t("div",tt,[t("div",st,[t("p",ot,[et,m(" "+a(s.product.content),1)]),t("p",it,[at,m(" 一"+a(s.product.unit),1)])]),t("div",nt,[t("p",rt,[lt,s.product.origin_price>s.product.price?(l(),r(c,{key:0},[t("span",dt,a(s.product.origin_price),1),ct],64)):h("",!0),t("span",null,a(s.product.price),1)]),t("div",pt,[t("div",mt,[t("div",ut,[t("button",{type:"button",class:"btn btn-secondary input-group-text",onClick:e[4]||(e[4]=o=>this.quantity-=1),disabled:i.quantity<=1},ht,8,bt),v(t("input",{type:"number",class:"form-control text-center",min:"1","onUpdate:modelValue":e[5]||(e[5]=o=>i.quantity=o)},null,512),[[k,i.quantity,void 0,{number:!0}]]),t("button",{type:"button",class:"btn btn-secondary input-group-text",onClick:e[6]||(e[6]=o=>this.quantity+=1)},_t)])]),t("div",gt,[t("button",{type:"button",class:"w-100 btn btn-primary",onClick:e[7]||(e[7]=o=>s.addToCart(s.product.id,i.quantity)),disabled:!!s.loadingTask},[v(t("div",wt,xt,512),[[x,s.loadingTask]]),t("span",null,a(s.loadingTask?"加入中":"加入購物車"),1)],8,yt)])])])]),Ct])])]),t("div",qt,[It,t("div",St,[(l(!0),r(c,null,p(s.relatedProducts,o=>(l(),r("div",{class:"col-md-4",key:o.id},[t("a",{class:"text-decoration-none",href:"#",onClick:C(g=>s.$router.push(`/product/${o.id}`),["prevent"])},[t("div",Pt,[t("img",{class:"card-img-top",src:o.imageUrl,alt:o.title},null,8,jt),t("div",Nt,[t("h5",Vt,a(o.title),1),t("p",Ut,"NT$ "+a(o.price),1)])])],8,Tt)]))),128))])])])])}const as=q(P,[["render",At],["__scopeId","data-v-f8b832c3"]]);export{as as default};
