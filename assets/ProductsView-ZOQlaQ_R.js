import{m as h,a as g}from"./pinia@2.1.7_vue@3.4.19-CHKlOEZr.js";import{u as f}from"./userProduct-CQNpmBdV.js";import{c as w}from"./userCart-DXhwZrUm.js";import{l as P}from"./alert-rz954VAU.js";import{P as S}from"./PaginationComponent-CPEO26-U.js";import{S as $}from"./SubscriptionSection-C27xV_aZ.js";import{_ as C}from"./index-D6-Ga_jm.js";import{O as e,P as t,c as i,aH as d,F as p,ao as y,N as m,aq as u,aj as a,V as b,al as x,ak as T}from"./@vue_runtime-core@3.4.19-CGfIweqO.js";import{n as v,P as c}from"./@vue_shared@3.4.19-Bk7MlA8B.js";import"./vue-demi@0.14.7_vue@3.4.19-Dq6ymT-8.js";import"./@vue_reactivity@3.4.19-Ddpy7v_1.js";import"./axios@1.6.7-Di5RpEPX.js";import"./sweetalert2@11.10.5-BCnrvazC.js";import"./@ckeditor_ckeditor5-vue@5.1.0-CegNn2NB.js";import"./vue@3.4.19-CdjQKHui.js";import"./@vue_runtime-dom@3.4.19-AC5g8dxk.js";/* empty css                               */import"./vee-validate@4.12.5_vue@3.4.19-Bp4gs7Rm.js";import"./@vee-validate_rules@4.12.5_vue@3.4.19-Bg5iSJV4.js";import"./@vee-validate_i18n@4.12.5-DXNnfMG0.js";import"./vue-axios@3.5.2_axios@1.6.7_vue@3.4.19-BaogFJPH.js";import"./moment@2.30.1-Cl4UOzQZ.js";import"./vue-loading-overlay@6.0.4_vue@3.4.19-DG0Fkrwv.js";import"./vue-router@4.2.5_vue@3.4.19-DxgIm9Z7.js";const N={data(){return{categories:["複製油畫","複製雕塑","玩具模型","裝飾雜貨","文具禮品"]}}},V={components:{PaginationComponent:S,SubscriptionSection:$},mixins:[N],computed:{...h(f,["products","pagination"]),...h(P,["loadingTask"])},watch:{"$route.query":{handler(o){this.getProducts(o.category)},deep:!0}},methods:{...g(f,["getProducts"]),...g(w,["addToCart"])},mounted(){this.getProducts(this.$route.query.category)}},n=o=>(x("data-v-a2c229c7"),o=o(),T(),o),q={class:"h-100 bg-gray text-primary"},j={class:"container py-7"},I=n(()=>t("h3",{class:"h2 text-center mb-7"},"線上商城",-1)),B={class:"nav flex-column flex-md-row mb-7"},F={class:"nav-item"},L={key:0,class:"d-flex justify-content-center mb-7"},z={key:1,class:"row g-6 list-unstyled mb-7"},A={class:"h-100 card border-0 rounded-0 shadow"},D={class:"overflow-hidden"},E={class:"card-img"},H=["src","alt"],M=n(()=>t("div",{class:"card-navigate"},[t("button",{type:"button",class:"btn fs-4 text-light"},[t("i",{class:"bi bi-search"})])],-1)),O={class:"card-body py-5 row"},U={class:"col-9"},G={class:"h-100 d-flex flex-column justify-content-between"},J={class:"flex-grow-1 d-flex gap-3 mb-3"},K={class:"fs-5 fw-bold text-primary text-nowrap overflow-scroll mb-0"},Q={class:"fs-6"},R=n(()=>t("span",null,"NT＄",-1)),W={class:"text-decoration-line-through text-muted"},X=n(()=>t("span",{class:"arrow-animation"},[t("span",{class:"arrow"}," → ")],-1)),Y={class:"fw-bold"},Z={class:"col-3"},tt={class:"d-flex flex-column align-items-end"},ot=["onClick","disabled"],st={key:0,role:"status",class:"spinner-border spinner-border-sm"},et=n(()=>t("span",{class:"visually-hidden"},"Loading...",-1)),at=[et],it={key:1,class:"bi bi-cart-plus-fill"},nt=n(()=>t("button",{type:"button",class:"btn btn-outline-primary"},[t("i",{class:"bi bi-heart"})],-1)),rt={key:2,class:"alert text-center mb-7"},ct={key:3,class:"d-flex justify-content-center"};function lt(o,r,dt,pt,mt,ut){const l=u("router-link"),_=u("pagination-component"),k=u("subscription-section");return a(),e("div",q,[t("div",j,[I,t("ul",B,[t("li",F,[i(l,{to:"/products",class:v(["nav-link",{"link-active":!o.$route.query.category}])},{default:d(()=>[b(" 全部")]),_:1},8,["class"])]),(a(!0),e(p,null,y(o.categories,s=>(a(),e("li",{key:s,class:"nav-item"},[i(l,{to:`/products?category=${s}`,class:v(["nav-link",{"link-active":o.$route.query.category===s}])},{default:d(()=>[b(c(s),1)]),_:2},1032,["to","class"])]))),128))]),o.products.length?(a(),e("div",L,[i(_,{current:o.pagination.current_page,total:o.pagination.total_pages,onSwitchPage:r[0]||(r[0]=s=>o.getProducts(o.pagination.category,s))},null,8,["current","total"])])):m("",!0),o.products.length?(a(),e("ul",z,[(a(!0),e(p,null,y(o.products,s=>(a(),e("li",{key:s.id,class:"col-xl-4 col-md-6"},[t("div",A,[t("div",D,[t("div",E,[i(l,{to:`/product/${s.id}`},{default:d(()=>[t("img",{class:"card-img-top",src:s.imageUrl,alt:s.title},null,8,H),M]),_:2},1032,["to"])])]),t("div",O,[t("div",U,[t("div",G,[t("div",J,[t("h4",K,c(s.title),1)]),t("div",Q,[R,s.price<s.origin_price?(a(),e(p,{key:0},[t("span",null,[t("span",W,c(s.origin_price),1)]),X],64)):m("",!0),t("span",Y,c(s.price),1)])])]),t("div",Z,[t("div",tt,[t("button",{type:"button",class:"btn btn-primary",onClick:_t=>o.addToCart(s.id),disabled:o.loadingTask===s.id},[o.loadingTask===s.id?(a(),e("div",st,at)):(a(),e("i",it))],8,ot),nt])])])])]))),128))])):(a(),e("div",rt,"這個分類目前沒有商品喔！")),o.products.length?(a(),e("div",ct,[i(_,{current:o.pagination.current_page,total:o.pagination.total_pages,onSwitchPage:r[1]||(r[1]=s=>o.getProducts(o.pagination.category,s))},null,8,["current","total"])])):m("",!0)]),i(k)])}const Dt=C(V,[["render",lt],["__scopeId","data-v-a2c229c7"]]);export{Dt as default};
