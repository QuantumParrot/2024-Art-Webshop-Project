import{m as _,a as h}from"./pinia@2.1.7_vue@3.4.19-CHKlOEZr.js";import{u as g}from"./userProduct-BjO_H0tS.js";import{c as P}from"./userCart-BE0r8f0t.js";import{l as $}from"./alert-dm0RMdUk.js";import{P as C}from"./PaginationComponent-QuSp7tSl.js";import{S as x}from"./SubscriptionSection-CZ0Y1X-n.js";import{m as f}from"./@vue_runtime-dom@3.4.19-AC5g8dxk.js";import{_ as T}from"./index-oiU3jX8y.js";import{O as e,P as t,c as i,aH as d,F as p,ao as b,aJ as y,N as v,aq as m,aj as a,V as w,al as N,ak as V}from"./@vue_runtime-core@3.4.19-CGfIweqO.js";import{n as k,P as c}from"./@vue_shared@3.4.19-Bk7MlA8B.js";import"./vue-demi@0.14.7_vue@3.4.19-Dq6ymT-8.js";import"./@vue_reactivity@3.4.19-Ddpy7v_1.js";import"./axios@1.6.7-Di5RpEPX.js";import"./sweetalert2@11.10.5-jk-t8Na3.js";import"./@ckeditor_ckeditor5-vue@5.1.0-nhPJMPZe.js";import"./vue@3.4.19-CzIOYL8w.js";/* empty css                               */import"./vee-validate@4.12.5_vue@3.4.19-Bp4gs7Rm.js";import"./@vee-validate_rules@4.12.5_vue@3.4.19-Bg5iSJV4.js";import"./@vee-validate_i18n@4.12.5-DXNnfMG0.js";import"./vue-axios@3.5.2_axios@1.6.7_vue@3.4.19-BaogFJPH.js";import"./moment@2.30.1-Cl4UOzQZ.js";import"./vue-loading-overlay@6.0.4_vue@3.4.19-eCggCihV.js";import"./vue-router@4.2.5_vue@3.4.19-DxgIm9Z7.js";const q={data(){return{categories:["複製油畫","複製雕塑","玩具模型","裝飾雜貨","文具禮品"]}}},j={components:{PaginationComponent:C,SubscriptionSection:x},mixins:[q],computed:{..._(g,["products","pagination"]),..._($,["loadingTask"])},watch:{"$route.query":{handler(o){this.getProducts(o.category)},deep:!0}},methods:{...h(g,["getProducts"]),...h(P,["addToCart"])},mounted(){this.getProducts(this.$route.query.category)}},n=o=>(N("data-v-67a675af"),o=o(),V(),o),I={key:0,class:"h-100 bg-gray text-primary"},B={class:"container py-7"},D=n(()=>t("h3",{class:"h2 text-center mb-7"},"線上商城",-1)),F={class:"nav flex-column flex-md-row mb-7"},L={class:"nav-item"},z={class:"d-flex justify-content-center mb-7"},A={class:"row g-6 list-unstyled mb-7"},E={class:"h-100 card border-0 rounded-0 shadow"},H={class:"overflow-hidden"},J={class:"card-img"},M=["src","alt"],O=n(()=>t("div",{class:"card-navigate"},[t("button",{type:"button",class:"btn fs-4 text-light"},[t("i",{class:"bi bi-search"})])],-1)),U={class:"card-body py-5 row"},G={class:"col-9"},K={class:"h-100 d-flex flex-column justify-content-between"},Q={class:"flex-grow-1 d-flex gap-3 mb-3"},R={class:"fs-5 fw-bold text-primary text-nowrap overflow-scroll mb-0"},W={class:"fs-6"},X=n(()=>t("span",null,"NT＄",-1)),Y={class:"text-decoration-line-through text-muted"},Z=n(()=>t("span",{class:"arrow-animation"},[t("span",{class:"arrow"}," → ")],-1)),tt={class:"fw-bold"},ot={class:"col-3"},st={class:"d-flex flex-column align-items-end"},et=["onClick","disabled"],at={key:0,role:"status",class:"spinner-border spinner-border-sm"},it=n(()=>t("span",{class:"visually-hidden"},"Loading...",-1)),nt=[it],rt={key:1,class:"bi bi-cart-plus-fill"},ct=n(()=>t("button",{type:"button",class:"btn btn-outline-primary"},[t("i",{class:"bi bi-heart"})],-1)),lt={class:"d-flex justify-content-center"};function dt(o,r,pt,mt,ut,_t){const l=m("router-link"),u=m("pagination-component"),S=m("subscription-section");return o.products.length?(a(),e("div",I,[t("div",B,[D,t("ul",F,[t("li",L,[i(l,{to:"/products",class:k(["nav-link",{"link-active":!o.$route.query.category}])},{default:d(()=>[w(" 全部")]),_:1},8,["class"])]),(a(!0),e(p,null,b(o.categories,s=>(a(),e("li",{key:s,class:"nav-item"},[i(l,{to:`/products?category=${s}`,class:k(["nav-link",{"link-active":o.$route.query.category===s}])},{default:d(()=>[w(c(s),1)]),_:2},1032,["to","class"])]))),128))]),y(t("div",z,[i(u,{current:o.pagination.current_page,total:o.pagination.total_pages,onSwitchPage:r[0]||(r[0]=s=>o.getProducts(o.pagination.category,s))},null,8,["current","total"])],512),[[f,o.products.length]]),t("ul",A,[(a(!0),e(p,null,b(o.products,s=>(a(),e("li",{key:s.id,class:"col-xl-4 col-md-6"},[t("div",E,[t("div",H,[t("div",J,[i(l,{to:`/product/${s.id}`},{default:d(()=>[t("img",{class:"card-img-top",src:s.imageUrl,alt:s.title},null,8,M),O]),_:2},1032,["to"])])]),t("div",U,[t("div",G,[t("div",K,[t("div",Q,[t("h4",R,c(s.title),1)]),t("div",W,[X,s.price<s.origin_price?(a(),e(p,{key:0},[t("span",null,[t("span",Y,c(s.origin_price),1)]),Z],64)):v("",!0),t("span",tt,c(s.price),1)])])]),t("div",ot,[t("div",st,[t("button",{type:"button",class:"btn btn-primary",onClick:ht=>o.addToCart(s.id),disabled:o.loadingTask===s.id},[o.loadingTask===s.id?(a(),e("div",at,nt)):(a(),e("i",rt))],8,et),ct])])])])]))),128))]),y(t("div",lt,[i(u,{current:o.pagination.current_page,total:o.pagination.total_pages,onSwitchPage:r[1]||(r[1]=s=>o.getProducts(o.pagination.category,s))},null,8,["current","total"])],512),[[f,o.products.length]])]),i(S)])):v("",!0)}const Et=T(j,[["render",dt],["__scopeId","data-v-67a675af"]]);export{Et as default};
