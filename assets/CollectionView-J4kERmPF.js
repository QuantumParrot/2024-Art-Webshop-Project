import{m,a as p}from"./pinia@2.1.7_vue@3.4.19-BGrtT45R.js";import{u}from"./userProduct-SnhvK8UC.js";import{P as C,u as d}from"./ProductCard-CkLfWMhX.js";import{P as b}from"./PaginationComponent-BiWmCfn7.js";import{_ as k}from"./index-eQ3mQE3r.js";import{A as e,Q as o,F as n,c as a,ao as y,aH as w,W as h,aq as c,z as i}from"./@vue_runtime-core@3.4.19-CKRBtKAL.js";import{P as x}from"./@vue_shared@3.4.19-Bk7MlA8B.js";import"./vue-demi@0.14.7_vue@3.4.19-Dq6ymT-8.js";import"./@vue_reactivity@3.4.19-Ddpy7v_1.js";import"./axios@1.6.7-Di5RpEPX.js";import"./alert-FxGjjVMx.js";import"./sweetalert2@11.10.5-Bw9zh6VB.js";import"./@ckeditor_ckeditor5-vue@5.1.0-CfTehzvT.js";import"./vue@3.4.19-B_XG1K6M.js";import"./@vue_runtime-dom@3.4.19-BGeaY8D6.js";import"./userCart-C8xJhx1c.js";/* empty css                               */import"./vee-validate@4.12.5_vue@3.4.19-BmIHdE2I.js";import"./@vee-validate_rules@4.12.5_vue@3.4.19-DqtB_02U.js";import"./@vee-validate_i18n@4.12.5-DXNnfMG0.js";import"./vue-axios@3.5.2_axios@1.6.7_vue@3.4.19-BaogFJPH.js";import"./moment@2.30.1-Cl4UOzQZ.js";import"./vue-loading-overlay@6.0.4_vue@3.4.19-CVoitIQD.js";import"./vue-router@4.2.5_vue@3.4.19-BBAnl9m5.js";const L={data(){return{currentPage:1}},components:{ProductCard:C,PaginationComponent:b},computed:{...m(d,["collection"]),...m(u,["productList"]),totalPages(){return Math.ceil(this.collection.length/6)},totalItems(){return this.productList.filter(t=>this.collection.includes(t.id))},displaying(){return this.totalItems.filter((t,r)=>Math.floor(r/6)+1===this.currentPage)}},methods:{...p(d,["getCollection","updateCollection","clearCollection"]),...p(u,["getProducts"]),switchPage(t){this.currentPage=t}},watch:{totalProducts(){this.getCollection()},totalPages(t){t<this.currentPage&&this.switchPage(1)},collection:{handler(){this.updateCollection()},deep:!0}},mounted(){this.productList.length||this.getProducts()}},S=o("h3",{class:"h2 mb-7"},[o("i",{class:"bi bi-bookmark-heart me-3"}),o("span",null,"我的收藏")],-1),v={class:"flex-classic mb-5"},V=["disabled"],B={class:"mb-5"},N={class:"list-unstyled row g-4"},A={key:1,class:"alert bg-light text-primary"},F=o("span",null,"目前沒有任何收藏哦！去",-1);function I(t,r,M,R,g,s){const P=c("PaginationComponent"),_=c("ProductCard"),f=c("RouterLink");return i(),e(n,null,[S,o("div",v,[o("h4",null,"商品收藏（ 共 "+x(t.collection.length)+" 筆 ）",1),o("button",{type:"button",class:"btn btn-outline-light",onClick:r[0]||(r[0]=(...l)=>t.clearCollection&&t.clearCollection(...l)),disabled:!t.collection.length}," 清空收藏",8,V)]),s.displaying.length?(i(),e(n,{key:0},[o("div",B,[a(P,{current:g.currentPage,total:s.totalPages,onSwitchPage:s.switchPage},null,8,["current","total","onSwitchPage"])]),o("ul",N,[(i(!0),e(n,null,y(s.displaying,l=>(i(),e("li",{key:l.id,class:"col-xxl-4 col-xl-6"},[a(_,{product:l},null,8,["product"])]))),128))])],64)):(i(),e("div",A,[F,a(f,{class:"text-info",to:"/products"},{default:w(()=>[h("逛逛")]),_:1}),h("吧！ ")]))],64)}const lt=k(L,[["render",I]]);export{lt as default};
