import{m as v,a as f}from"./pinia@2.1.7_vue@3.4.19-BGrtT45R.js";import{u as g}from"./userProduct-DvVBjULb.js";import{c as C}from"./userCart-x-FpTMdM.js";import{l as q}from"./alert-8GdQBstY.js";import{m as y,l as I,n as S}from"./@vue_runtime-dom@3.4.19-Jk3xLe3-.js";import{_ as P}from"./index-jdcySpcM.js";import{aJ as u,A as d,Q as t,c as b,aH as p,F as m,ao as _,P as w,V as T,aq as N,z as r,W as h,O as V,al as j,ak as L}from"./@vue_runtime-core@3.4.19-CKRBtKAL.js";import{P as n,n as l}from"./@vue_shared@3.4.19-Bk7MlA8B.js";import"./vue-demi@0.14.7_vue@3.4.19-Dq6ymT-8.js";import"./@vue_reactivity@3.4.19-Ddpy7v_1.js";import"./axios@1.6.7-Di5RpEPX.js";import"./sweetalert2@11.10.5-Csd-Z1-j.js";import"./@ckeditor_ckeditor5-vue@5.1.0-BEtXLgA-.js";import"./vue@3.4.19-C3VIO2t_.js";/* empty css                               *//* empty css                          */import"./vee-validate@4.12.5_vue@3.4.19-BmIHdE2I.js";import"./@vee-validate_rules@4.12.5_vue@3.4.19-DqtB_02U.js";import"./@vee-validate_i18n@4.12.5-DXNnfMG0.js";import"./vue-axios@3.5.2_axios@1.6.7_vue@3.4.19-BaogFJPH.js";import"./vue3-lottie@3.3.0_vue@3.4.19-B_fkVG75.js";import"./lottie-web@5.12.2-DrG9waUi.js";import"./moment@2.30.1-Cl4UOzQZ.js";import"./vue-loading-overlay@6.0.4_vue@3.4.19-DaNcwJXO.js";import"./vue-router@4.2.5_vue@3.4.19-BBAnl9m5.js";import"./aos@2.3.4-DSOO8Lb4.js";const U={data(){return{transition:!0,frame:"",frameSetting:{wooden:"frame-wooden",golden:"frame-golden",dark:"frame-dark",baroque:"frame-baroque"},mainImage:"",quantity:1}},computed:{...v(g,["product","relatedProducts"]),...v(q,["isLoading","loadingTask"]),displayImages(){const{imageUrl:s,imagesUrl:o}=this.product;return Array.isArray(o)?[s,...o]:[s]}},watch:{"$route.params":{handler(){this.getProduct(this.$route.params.id)},deep:!0},product(){this.getRelatedProducts(this.product),this.mainImage=this.product.imageUrl,this.quantity=1,this.frame="",this.transition=!1,window.scrollTo(0,0,"smooth")},quantity(s){Number.isInteger(s)?s<1&&(this.quantity=1):this.quantity=Math.floor(this.quantity)}},methods:{...f(g,["getProduct","getRelatedProducts"]),...f(C,["addToCart"])},mounted(){this.getProduct(this.$route.params.id)}},a=s=>(j("data-v-d2ec6749"),s=s(),L(),s),A={class:"h-100 bg-gray text-primary"},B={class:"container py-7"},E={class:"d-flex justify-content-center"},M={class:"mb-5",style:{"--bs-breadcrumb-divider":`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`},"aria-label":"breadcrumb"},R={class:"breadcrumb flex-nowrap text-nowrap overflow-x-scroll"},z={class:"breadcrumb-item"},D={class:"breadcrumb-item"},F={class:"breadcrumb-item"},H={class:"d-md-block d-none breadcrumb-item active","aria-current":"page"},J={class:"position-relative mb-5"},O=["src","alt"],Q={class:"bg-light rounded-2 p-3 mb-5 d-flex gap-3 overflow-x-scroll"},W=["src","alt","onClick"],G={class:"overflow-x-scroll"},K={key:0,class:"frames d-flex flex-nowrap text-nowrap mb-5"},X=a(()=>t("b",null,"無畫框",-1)),Y=[X],Z=a(()=>t("b",null,"極簡黑",-1)),$=[Z],tt=a(()=>t("b",null,"淺木紋",-1)),st=[tt],et=a(()=>t("b",null,"典雅金",-1)),ot=[et],it=a(()=>t("b",null,"巴洛克",-1)),at=[it],nt={class:"text-black mb-5"},rt={class:"mb-0"},dt=a(()=>t("hr",null,null,-1)),lt={class:"row g-5 mb-5"},ct={class:"col-xl-7 order-xl-1 order-2"},pt={class:"h-100 d-flex flex-column"},mt={class:"flex-grow-1 alert bg-light p-5 mb-5"},ut={class:"h-100 border border-gray rounded-2 p-5 pb-6 d-flex flex-column justify-content-between"},bt=a(()=>t("h3",{class:"lh-lg fs-4 text-dark fw-bold mb-5"},[t("span",{class:"section-title"},"關於它的故事")],-1)),_t={class:"lh-lg pre-wrap text-justify mb-6"},ht=a(()=>t("p",{class:"fs-7 mb-5"},"點選下方標籤，搜尋相關作品：",-1)),vt={class:"d-flex gap-2 flex-nowrap text-nowrap overflow-scroll"},ft=a(()=>t("div",{class:"alert bg-light p-5 mb-0"},[t("p",{class:"lh-lg mb-0"},[t("i",{class:"bi bi-c-circle me-1"}),t("span",null,[h("圖片與文字參考資料請參閱："),t("a",{target:"_blank",href:"https://www.notion.so/9f522b0de5c2413c8090249c96bd692a?v=5b0f1f1c376f4b468a56aaec87a97c8a"},"本站索引")])])],-1)),gt={class:"col-xl-5 order-xl-2 order-1"},yt={class:"sticky-sidebar"},wt={class:"alert bg-light p-5 mb-5"},kt=a(()=>t("h4",{class:"fs-5 text-dark fw-bold mb-4"},"購買須知",-1)),xt={class:"lh-lg pre-wrap text-justify mb-0"},Ct={class:"alert bg-light p-5 mb-5"},qt={class:"mb-5"},It={class:"text-nowrap overflow-x-scroll"},St=a(()=>t("span",{class:"fs-6 badge bg-primary px-3 py-2 me-2"},"規格",-1)),Pt={class:"text-nowrap overflow-x-scroll"},Tt=a(()=>t("span",{class:"fs-6 badge bg-primary px-3 py-2 me-2"},"單位",-1)),Nt={class:"alert bg-white p-5 mb-0"},Vt={class:"fs-5 fw-bold mb-5"},jt=a(()=>t("span",null,"NT＄",-1)),Lt={class:"text-muted text-decoration-line-through"},Ut=a(()=>t("span",{class:"arrow-animation"},[t("span",{class:"arrow"}," → ")],-1)),At={class:"row g-3"},Bt={class:"col-sm-8"},Et={class:"input-group"},Mt=["disabled"],Rt=a(()=>t("i",{class:"bi bi-dash"},null,-1)),zt=[Rt],Dt=a(()=>t("i",{class:"bi bi-plus"},null,-1)),Ft=[Dt],Ht={class:"col-sm-4 text-end"},Jt=["disabled"],Ot={class:"spinner-border spinner-border-sm me-2",role:"status"},Qt=a(()=>t("span",{class:"visually-hidden"},"Loading...",-1)),Wt=[Qt],Gt=T('<div class="alert bg-light p-5 mb-0" data-v-d2ec6749><div class="row g-3" data-v-d2ec6749><div class="col-sm-4" data-v-d2ec6749><div class="d-flex flex-sm-column justify-content-sm-center align-items-center" data-v-d2ec6749><div class="bg-white rounded-pill shadow-sm px-3 py-2 mb-sm-3 me-sm-0 me-3" data-v-d2ec6749><i class="bi bi-truck fs-3" data-v-d2ec6749></i></div><span data-v-d2ec6749>專業物流配送</span></div></div><div class="col-sm-4" data-v-d2ec6749><div class="d-flex flex-sm-column justify-content-sm-center align-items-center" data-v-d2ec6749><div class="bg-white rounded-pill shadow-sm px-3 py-2 mb-sm-3 me-sm-0 me-3" data-v-d2ec6749><i class="bi bi-7-circle fs-3" data-v-d2ec6749></i></div><span data-v-d2ec6749>七天鑑賞期</span></div></div><div class="col-sm-4" data-v-d2ec6749><div class="d-flex flex-sm-column justify-content-sm-center align-items-center" data-v-d2ec6749><div class="bg-white rounded-pill shadow-sm px-3 py-2 mb-sm-3 me-sm-0 me-3" data-v-d2ec6749><i class="bi bi-recycle fs-3" data-v-d2ec6749></i></div><span data-v-d2ec6749>採用環保包裝</span></div></div></div></div>',1),Kt={class:"alert bg-white p-5"},Xt=a(()=>t("h4",{class:"text-center mb-5"},"為您推薦",-1)),Yt={class:"row g-5"},Zt=["onClick"],$t={class:"card"},ts=["src","alt"],ss={class:"card-body py-5 flex-classic"},es={class:"fs-6 fw-bold mb-0"},os={class:"mb-0"};function is(s,o,as,ns,i,k){const c=N("RouterLink");return u((r(),d("div",A,[t("div",B,[t("div",E,[t("div",null,[t("nav",M,[t("ol",R,[t("li",z,[b(c,{to:"/"},{default:p(()=>[h("首頁")]),_:1})]),t("li",D,[b(c,{to:"/products"},{default:p(()=>[h("商品列表")]),_:1})]),t("li",F,[b(c,{to:`/products?category=${s.product.category}`},{default:p(()=>[t("span",null,n(s.product.category),1)]),_:1},8,["to"])]),t("li",H,[t("span",null,n(s.product.title),1)])])]),t("div",J,[t("img",{class:l(["main-img",i.frame?i.frameSetting[i.frame]:""]),src:i.mainImage,alt:s.product.title,width:"600"},null,10,O)]),t("div",Q,[(r(!0),d(m,null,_(k.displayImages,e=>(r(),d("img",{key:e,class:l(["display-img",{"opacity-50":e!==i.mainImage}]),src:e,alt:s.product.title,onClick:x=>i.mainImage=e},null,10,W))),128))]),t("div",G,[s.product.category==="複製油畫"?(r(),d("div",K,[t("button",{type:"button",class:l(["fs-7 btn btn-outline-primary rounded-0",{active:i.frame===""}]),onClick:o[0]||(o[0]=e=>i.frame="")},Y,2),t("button",{type:"button",class:l(["fs-7 btn btn-outline-primary rounded-0",{active:i.frame==="dark"}]),onClick:o[1]||(o[1]=e=>i.frame="dark")},$,2),t("button",{type:"button",class:l(["fs-7 btn btn-outline-primary rounded-0",{active:i.frame==="wooden"}]),onClick:o[2]||(o[2]=e=>i.frame="wooden")},st,2),t("button",{type:"button",class:l(["fs-7 btn btn-outline-primary rounded-0",{active:i.frame==="golden"}]),onClick:o[3]||(o[3]=e=>i.frame="golden")},ot,2),t("button",{type:"button",class:l(["fs-7 btn btn-outline-primary rounded-0",{active:i.frame==="baroque"}]),onClick:o[4]||(o[4]=e=>i.frame="baroque")},at,2)])):w("",!0)]),t("h2",nt,n(s.product.title),1),t("p",rt,n(s.product.subtitle),1)])]),dt,t("div",lt,[t("div",ct,[t("div",pt,[t("div",mt,[t("div",ut,[t("div",null,[bt,t("div",_t,[t("span",null,n(s.product.description),1)])]),ht,t("div",vt,[(r(!0),d(m,null,_(s.product.tags,e=>(r(),V(c,{key:e,to:`/search?keyword=${e}`,target:"_blank",class:"tag badge fs-6 py-2"},{default:p(()=>[t("span",null,n(e),1)]),_:2},1032,["to"]))),128))])])]),ft])]),t("div",gt,[t("div",yt,[t("div",wt,[kt,t("p",xt,n(s.product.notes||"無"),1)]),t("div",Ct,[t("div",qt,[t("p",It,[St,t("span",null,n(s.product.content),1)]),t("p",Pt,[Tt,t("span",null,"一"+n(s.product.unit),1)])]),t("div",Nt,[t("p",Vt,[jt,s.product.origin_price>s.product.price?(r(),d(m,{key:0},[t("span",Lt,n(s.product.origin_price),1),Ut],64)):w("",!0),t("span",null,n(s.product.price),1)]),t("div",At,[t("div",Bt,[t("div",Et,[t("button",{type:"button",class:"btn btn-secondary input-group-text",onClick:o[5]||(o[5]=e=>this.quantity-=1),disabled:i.quantity<=1},zt,8,Mt),u(t("input",{type:"number",class:"form-control text-center",min:"1","onUpdate:modelValue":o[6]||(o[6]=e=>i.quantity=e)},null,512),[[I,i.quantity,void 0,{number:!0}]]),t("button",{type:"button",class:"btn btn-secondary input-group-text",onClick:o[7]||(o[7]=e=>this.quantity+=1)},Ft)])]),t("div",Ht,[t("button",{type:"button",class:"w-100 btn btn-primary",onClick:o[8]||(o[8]=e=>s.addToCart(s.product.id,i.quantity)),disabled:!!s.loadingTask},[u(t("div",Ot,Wt,512),[[y,s.loadingTask]]),t("span",null,n(s.loadingTask?"加入中":"加入購物車"),1)],8,Jt)])])])]),Gt])])]),t("div",Kt,[Xt,t("div",Yt,[(r(!0),d(m,null,_(s.relatedProducts,e=>(r(),d("div",{key:e.id,class:"col-md-4"},[t("a",{href:"#",class:"text-decoration-none",onClick:S(x=>s.$router.push(`/product/${e.id}`),["prevent"])},[t("div",$t,[t("img",{class:"card-img-top",src:e.imageUrl,alt:e.title},null,8,ts),t("div",ss,[t("h5",es,n(e.title),1),t("p",os,"NT$ "+n(e.price),1)])])],8,Zt)]))),128))])])])],512)),[[y,!i.transition]])}const Ls=P(U,[["render",is],["__scopeId","data-v-d2ec6749"]]);export{Ls as default};
