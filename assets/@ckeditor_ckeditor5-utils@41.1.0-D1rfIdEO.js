import{d as Ot,r as et,b as v,p as Vt,a as jt,i as nt}from"./lodash-es@4.17.21-DPYE078p.js";/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Kt(){try{return navigator.userAgent.toLowerCase()}catch{return""}}const x=Kt(),R={isMac:bt(x),isWindows:Wt(x),isGecko:Ht(x),isSafari:Ut(x),isiOS:Gt(x),isAndroid:$t(x),isBlink:qt(x),features:{isRegExpUnicodePropertySupported:Yt()}};function bt(e){return e.indexOf("macintosh")>-1}function Wt(e){return e.indexOf("windows")>-1}function Ht(e){return!!e.match(/gecko\/\d+/)}function Ut(e){return e.indexOf(" applewebkit/")>-1&&e.indexOf("chrome")===-1}function Gt(e){return!!e.match(/iphone|ipad/i)||bt(e)&&navigator.maxTouchPoints>0}function $t(e){return e.indexOf("android")>-1}function qt(e){return e.indexOf("chrome/")>-1&&e.indexOf("edge/")<0}function Yt(){let e=!1;try{e="ć".search(new RegExp("[\\p{L}]","u"))===0}catch{}return e}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Xt(e,t,n,i){n=n||function(l,a){return l===a};const s=Array.isArray(e)?e:Array.prototype.slice.call(e),o=Array.isArray(t)?t:Array.prototype.slice.call(t),r=Jt(s,o,n);return i?Qt(r,o.length):Zt(o,r)}function Jt(e,t,n){const i=it(e,t,n);if(i===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const s=st(e,i),o=st(t,i),r=it(s,o,n),c=e.length-r,l=t.length-r;return{firstIndex:i,lastIndexOld:c,lastIndexNew:l}}function it(e,t,n){for(let i=0;i<Math.max(e.length,t.length);i++)if(e[i]===void 0||t[i]===void 0||!n(e[i],t[i]))return i;return-1}function st(e,t){return e.slice(t).reverse()}function Zt(e,t){const n=[],{firstIndex:i,lastIndexOld:s,lastIndexNew:o}=t;return o-i>0&&n.push({index:i,type:"insert",values:e.slice(i,o)}),s-i>0&&n.push({index:i+(o-i),type:"delete",howMany:s-i}),n}function Qt(e,t){const{firstIndex:n,lastIndexOld:i,lastIndexNew:s}=e;if(n===-1)return Array(t).fill("equal");let o=[];return n>0&&(o=o.concat(Array(n).fill("equal"))),s-n>0&&(o=o.concat(Array(s-n).fill("insert"))),i-n>0&&(o=o.concat(Array(i-n).fill("delete"))),s<t&&(o=o.concat(Array(t-s).fill("equal"))),o}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function _t(e,t,n){n=n||function(p,C){return p===C};const i=e.length,s=t.length;if(i>200||s>200||i+s>300)return _t.fastDiff(e,t,n,!0);let o,r;if(s<i){const p=e;e=t,t=p,o="delete",r="insert"}else o="insert",r="delete";const c=e.length,l=t.length,a=l-c,u={},f={};function _(p){const C=(f[p-1]!==void 0?f[p-1]:-1)+1,O=f[p+1]!==void 0?f[p+1]:-1,tt=C>O?-1:1;u[p+tt]&&(u[p]=u[p+tt].slice(0)),u[p]||(u[p]=[]),u[p].push(C>O?o:r);let S=Math.max(C,O),V=S-p;for(;V<c&&S<l&&n(e[V],t[S]);)V++,S++,u[p].push("equal");return S}let A=0,y;do{for(y=-A;y<a;y++)f[y]=_(y);for(y=a+A;y>a;y--)f[y]=_(y);f[a]=_(a),A++}while(f[a]!==l);return u[a].slice(1)}_t.fastDiff=Xt;/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function ot(){return function e(){e.called=!0}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class H{constructor(t,n){this.source=t,this.name=n,this.path=[],this.stop=ot(),this.off=ot()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const b=new Array(256).fill("").map((e,t)=>("0"+t.toString(16)).slice(-2));function X(){const e=Math.random()*4294967296>>>0,t=Math.random()*4294967296>>>0,n=Math.random()*4294967296>>>0,i=Math.random()*4294967296>>>0;return"e"+b[e>>0&255]+b[e>>8&255]+b[e>>16&255]+b[e>>24&255]+b[t>>0&255]+b[t>>8&255]+b[t>>16&255]+b[t>>24&255]+b[n>>0&255]+b[n>>8&255]+b[n>>16&255]+b[n>>24&255]+b[i>>0&255]+b[i>>8&255]+b[i>>16&255]+b[i>>24&255]}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const U={get(e="normal"){return typeof e!="number"?this[e]||this.normal:e},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function zt(e,t){const n=U.get(t.priority);for(let i=0;i<e.length;i++)if(U.get(e[i].priority)<n){e.splice(i,0,t);return}e.push(t)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const te="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class h extends Error{constructor(t,n,i){super(ee(t,i)),this.name="CKEditorError",this.context=n,this.data=i}is(t){return t==="CKEditorError"}static rethrowUnexpectedError(t,n){if(t.is&&t.is("CKEditorError"))throw t;const i=new h(t.message,n);throw i.stack=t.stack,i}}function qe(e,t){console.warn(...ne(e,t))}function wt(e){return`
Read more: ${te}#error-${e}`}function ee(e,t){const n=new WeakSet,s=t?` ${JSON.stringify(t,(r,c)=>{if(typeof c=="object"&&c!==null){if(n.has(c))return`[object ${c.constructor.name}]`;n.add(c)}return c})}`:"",o=wt(e);return e+s+o}function ne(e,t){const n=wt(e);return t?[e,t,n]:[e,n]}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const ie="41.1.0",se=new Date(2024,1,7);/* istanbul ignore next -- @preserve */if(globalThis.CKEDITOR_VERSION)throw new h("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=ie;/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const L=Symbol("listeningTo"),G=Symbol("emitterId"),E=Symbol("delegations"),yt=T(Object);function T(e){if(!e)return yt;class t extends e{on(i,s,o){this.listenTo(this,i,s,o)}once(i,s,o){let r=!1;const c=(l,...a)=>{r||(r=!0,l.off(),s.call(this,l,...a))};this.listenTo(this,i,c,o)}off(i,s){this.stopListening(this,i,s)}listenTo(i,s,o,r={}){let c,l;this[L]||(this[L]={});const a=this[L];j(i)||Et(i);const u=j(i);(c=a[u])||(c=a[u]={emitter:i,callbacks:{}}),(l=c.callbacks[s])||(l=c.callbacks[s]=[]),l.push(o),le(this,i,s,o,r)}stopListening(i,s,o){const r=this[L];let c=i&&j(i);const l=r&&c?r[c]:void 0,a=l&&s?l.callbacks[s]:void 0;if(!(!r||i&&!l||s&&!a))if(o)K(this,i,s,o),a.indexOf(o)!==-1&&(a.length===1?delete l.callbacks[s]:K(this,i,s,o));else if(a){for(;o=a.pop();)K(this,i,s,o);delete l.callbacks[s]}else if(l){for(s in l.callbacks)this.stopListening(i,s);delete r[c]}else{for(c in r)this.stopListening(r[c].emitter);delete this[L]}}fire(i,...s){try{const o=i instanceof H?i:new H(this,i),r=o.name;let c=xt(this,r);if(o.path.push(this),c){const a=[o,...s];c=Array.from(c);for(let u=0;u<c.length&&(c[u].callback.apply(this,a),o.off.called&&(delete o.off.called,this._removeEventListener(r,c[u].callback)),!o.stop.called);u++);}const l=this[E];if(l){const a=l.get(r),u=l.get("*");a&&rt(a,o,s),u&&rt(u,o,s)}return o.return}catch(o){/* istanbul ignore next -- @preserve */h.rethrowUnexpectedError(o,this)}}delegate(...i){return{to:(s,o)=>{this[E]||(this[E]=new Map),i.forEach(r=>{const c=this[E].get(r);c?c.set(s,o):this[E].set(r,new Map([[s,o]]))})}}}stopDelegating(i,s){if(this[E])if(!i)this[E].clear();else if(!s)this[E].delete(i);else{const o=this[E].get(i);o&&o.delete(s)}}_addEventListener(i,s,o){ce(this,i);const r=$(this,i),c=U.get(o.priority),l={callback:s,priority:c};for(const a of r)zt(a,l)}_removeEventListener(i,s){const o=$(this,i);for(const r of o)for(let c=0;c<r.length;c++)r[c].callback==s&&(r.splice(c,1),c--)}}return t}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(e=>{T[e]=yt.prototype[e]});function oe(e,t){const n=e[L];return n&&n[t]?n[t].emitter:null}function Et(e,t){e[G]||(e[G]=t||X())}function j(e){return e[G]}function Tt(e){return e._events||Object.defineProperty(e,"_events",{value:{}}),e._events}function re(){return{callbacks:[],childEvents:[]}}function ce(e,t){const n=Tt(e);if(n[t])return;let i=t,s=null;const o=[];for(;i!==""&&!n[i];)n[i]=re(),o.push(n[i]),s&&n[i].childEvents.push(s),s=i,i=i.substr(0,i.lastIndexOf(":"));if(i!==""){for(const r of o)r.callbacks=n[i].callbacks.slice();n[i].childEvents.push(s)}}function $(e,t){const n=Tt(e)[t];if(!n)return[];let i=[n.callbacks];for(let s=0;s<n.childEvents.length;s++){const o=$(e,n.childEvents[s]);i=i.concat(o)}return i}function xt(e,t){let n;return!e._events||!(n=e._events[t])||!n.callbacks.length?t.indexOf(":")>-1?xt(e,t.substr(0,t.lastIndexOf(":"))):null:n.callbacks}function rt(e,t,n){for(let[i,s]of e){s?typeof s=="function"&&(s=s(t.name)):s=t.name;const o=new H(t.source,s);o.path=[...t.path],i.fire(o,...n)}}function le(e,t,n,i,s){t._addEventListener?t._addEventListener(n,i,s):e._addEventListener.call(t,n,i,s)}function K(e,t,n,i){t._removeEventListener?t._removeEventListener(n,i):e._removeEventListener.call(t,n,i)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const k=Symbol("observableProperties"),P=Symbol("boundObservables"),F=Symbol("boundProperties"),I=Symbol("decoratedMethods"),ct=Symbol("decoratedOriginal"),It=J(T());function J(e){if(!e)return It;class t extends e{set(i,s){if(Ot(i)){Object.keys(i).forEach(r=>{this.set(r,i[r])},this);return}W(this);const o=this[k];if(i in this&&!o.has(i))throw new h("observable-set-cannot-override",this);Object.defineProperty(this,i,{enumerable:!0,configurable:!0,get(){return o.get(i)},set(r){const c=o.get(i);let l=this.fire(`set:${i}`,i,r,c);l===void 0&&(l=r),(c!==l||!o.has(i))&&(o.set(i,l),this.fire(`change:${i}`,i,l,c))}}),this[i]=s}bind(...i){if(!i.length||!lt(i))throw new h("observable-bind-wrong-properties",this);if(new Set(i).size!==i.length)throw new h("observable-bind-duplicate-properties",this);W(this);const s=this[F];i.forEach(r=>{if(s.has(r))throw new h("observable-bind-rebind",this)});const o=new Map;return i.forEach(r=>{const c={property:r,to:[]};s.set(r,c),o.set(r,c)}),{to:ae,toMany:ue,_observable:this,_bindProperties:i,_to:[],_bindings:o}}unbind(...i){if(!this[k])return;const s=this[F],o=this[P];if(i.length){if(!lt(i))throw new h("observable-unbind-wrong-properties",this);i.forEach(r=>{const c=s.get(r);c&&(c.to.forEach(([l,a])=>{const u=o.get(l),f=u[a];f.delete(c),f.size||delete u[a],Object.keys(u).length||(o.delete(l),this.stopListening(l,"change"))}),s.delete(r))})}else o.forEach((r,c)=>{this.stopListening(c,"change")}),o.clear(),s.clear()}decorate(i){W(this);const s=this[i];if(!s)throw new h("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:i});this.on(i,(o,r)=>{o.return=s.apply(this,r)}),this[i]=function(...o){return this.fire(i,o)},this[i][ct]=s,this[I]||(this[I]=[]),this[I].push(i)}stopListening(i,s,o){if(!i&&this[I]){for(const r of this[I])this[r]=this[r][ct];delete this[I]}super.stopListening(i,s,o)}}return t}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(e=>{J[e]=It.prototype[e]});function W(e){e[k]||(Object.defineProperty(e,k,{value:new Map}),Object.defineProperty(e,P,{value:new Map}),Object.defineProperty(e,F,{value:new Map}))}function ae(...e){const t=he(...e),n=Array.from(this._bindings.keys()),i=n.length;if(!t.callback&&t.to.length>1)throw new h("observable-bind-to-no-callback",this);if(i>1&&t.callback)throw new h("observable-bind-to-extra-callback",this);t.to.forEach(s=>{if(s.properties.length&&s.properties.length!==i)throw new h("observable-bind-to-properties-length",this);s.properties.length||(s.properties=this._bindProperties)}),this._to=t.to,t.callback&&(this._bindings.get(n[0]).callback=t.callback),ge(this._observable,this._to),pe(this),this._bindProperties.forEach(s=>{Lt(this._observable,s)})}function ue(e,t,n){if(this._bindings.size>1)throw new h("observable-bind-to-many-not-one-binding",this);this.to(...fe(e,t),n)}function fe(e,t){const n=e.map(i=>[i,t]);return Array.prototype.concat.apply([],n)}function lt(e){return e.every(t=>typeof t=="string")}function he(...e){if(!e.length)throw new h("observable-bind-to-parse-error",null);const t={to:[]};let n;return typeof e[e.length-1]=="function"&&(t.callback=e.pop()),e.forEach(i=>{if(typeof i=="string")n.properties.push(i);else if(typeof i=="object")n={observable:i,properties:[]},t.to.push(n);else throw new h("observable-bind-to-parse-error",null)}),t}function de(e,t,n,i){const s=e[P],o=s.get(n),r=o||{};r[i]||(r[i]=new Set),r[i].add(t),o||s.set(n,r)}function pe(e){let t;e._bindings.forEach((n,i)=>{e._to.forEach(s=>{t=s.properties[n.callback?0:e._bindProperties.indexOf(i)],n.to.push([s.observable,t]),de(e._observable,n,s.observable,t)})})}function Lt(e,t){const i=e[F].get(t);let s;i.callback?s=i.callback.apply(e,i.to.map(o=>o[0][o[1]])):(s=i.to[0],s=s[0][s[1]]),Object.prototype.hasOwnProperty.call(e,t)?e[t]=s:e.set(t,s)}function ge(e,t){t.forEach(n=>{const i=e[P];let s;i.get(n.observable)||e.listenTo(n.observable,"change",(o,r)=>{s=i.get(n.observable)[r],s&&s.forEach(c=>{Lt(e,c.property)})})})}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ye{constructor(){this._replacedElements=[]}replace(t,n){this._replacedElements.push({element:t,newElement:n}),t.style.display="none",n&&t.parentNode.insertBefore(n,t.nextSibling)}restore(){this._replacedElements.forEach(({element:t,newElement:n})=>{t.style.display="",n&&n.remove()}),this._replacedElements=[]}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Xe(e){let t=0;for(const n of e)t++;return t}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Je(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++)if(e[i]!=t[i])return i;return e.length==t.length?"same":e.length<t.length?"prefix":"extension"}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Z(e){return!!(e&&e[Symbol.iterator])}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Ze(e,t,n={},i=[]){const s=n&&n.xmlns,o=s?e.createElementNS(s,t):e.createElement(t);for(const r in n)o.setAttribute(r,n[r]);(et(i)||!Z(i))&&(i=[i]);for(let r of i)et(r)&&(r=e.createTextNode(r)),o.appendChild(r);return o}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Qe{constructor(t,n){this._config={},n&&this.define(at(n)),t&&this._setObjectToTarget(this._config,t)}set(t,n){this._setToTarget(this._config,t,n)}define(t,n){this._setToTarget(this._config,t,n,!0)}get(t){return this._getFromSource(this._config,t)}*names(){for(const t of Object.keys(this._config))yield t}_setToTarget(t,n,i,s=!1){if(v(n)){this._setObjectToTarget(t,n,s);return}const o=n.split(".");n=o.pop();for(const r of o)v(t[r])||(t[r]={}),t=t[r];if(v(i)){v(t[n])||(t[n]={}),t=t[n],this._setObjectToTarget(t,i,s);return}s&&typeof t[n]<"u"||(t[n]=i)}_getFromSource(t,n){const i=n.split(".");n=i.pop();for(const s of i){if(!v(t[s])){t=null;break}t=t[s]}return t?at(t[n]):void 0}_setObjectToTarget(t,n,i){Object.keys(n).forEach(s=>{this._setToTarget(t,s,n[s],i)})}}function at(e){return Vt(e,me)}function me(e){return jt(e)||typeof e=="function"?e:void 0}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function ut(e){if(e){if(e.defaultView)return e instanceof e.defaultView.Document;if(e.ownerDocument&&e.ownerDocument.defaultView)return e instanceof e.ownerDocument.defaultView.Node}return!1}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function N(e){const t=Object.prototype.toString.apply(e);return t=="[object Window]"||t=="[object global]"}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const At=B(T());function B(e){if(!e)return At;class t extends e{listenTo(i,s,o,r={}){if(ut(i)||N(i)){const c={capture:!!r.useCapture,passive:!!r.usePassive},l=this._getProxyEmitter(i,c)||new be(i,c);this.listenTo(l,s,o,r)}else super.listenTo(i,s,o,r)}stopListening(i,s,o){if(ut(i)||N(i)){const r=this._getAllProxyEmitters(i);for(const c of r)this.stopListening(c,s,o)}else super.stopListening(i,s,o)}_getProxyEmitter(i,s){return oe(this,Ct(i,s))}_getAllProxyEmitters(i){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(s=>this._getProxyEmitter(i,s)).filter(s=>!!s)}}return t}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(e=>{B[e]=At.prototype[e]});class be extends T(){constructor(t,n){super(),Et(this,Ct(t,n)),this._domNode=t,this._options=n}attach(t){if(this._domListeners&&this._domListeners[t])return;const n=this._createDomListener(t);this._domNode.addEventListener(t,n,this._options),this._domListeners||(this._domListeners={}),this._domListeners[t]=n}detach(t){let n;this._domListeners[t]&&(!(n=this._events[t])||!n.callbacks.length)&&this._domListeners[t].removeListener()}_addEventListener(t,n,i){this.attach(t),T().prototype._addEventListener.call(this,t,n,i)}_removeEventListener(t,n){T().prototype._removeEventListener.call(this,t,n),this.detach(t)}_createDomListener(t){const n=i=>{this.fire(t,i)};return n.removeListener=()=>{this._domNode.removeEventListener(t,n,this._options),delete this._domListeners[t]},n}}function _e(e){return e["data-ck-expando"]||(e["data-ck-expando"]=X())}function Ct(e,t){let n=_e(e);for(const i of Object.keys(t).sort())t[i]&&(n+="-"+i);return n}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let q;try{q={window,document}}catch{/* istanbul ignore next -- @preserve */q={window:{},document:{}}}const w=q;/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function ze(e){const t=[];let n=e;for(;n&&n.nodeType!=Node.DOCUMENT_NODE;)t.unshift(n),n=n.parentNode;return t}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function tn(e){return e instanceof HTMLTextAreaElement?e.value:e.innerHTML}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function St(e){const t=e.ownerDocument.defaultView.getComputedStyle(e);return{top:parseInt(t.borderTopWidth,10),right:parseInt(t.borderRightWidth,10),bottom:parseInt(t.borderBottomWidth,10),left:parseInt(t.borderLeftWidth,10)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function vt(e){return Object.prototype.toString.call(e)=="[object Text]"}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Q(e){return Object.prototype.toString.apply(e)=="[object Range]"}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Mt(e){return!e||!e.parentNode||e.offsetParent===w.document.body?null:e.offsetParent}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Rt=["top","right","bottom","left","width","height"];class m{constructor(t){const n=Q(t);if(Object.defineProperty(this,"_source",{value:t._source||t,writable:!0,enumerable:!1}),Y(t)||n)if(n){const i=m.getDomRangeRects(t);M(this,m.getBoundingRect(i))}else M(this,t.getBoundingClientRect());else if(N(t)){const{innerWidth:i,innerHeight:s}=t;M(this,{top:0,right:i,bottom:s,left:0,width:i,height:s})}else M(this,t)}clone(){return new m(this)}moveTo(t,n){return this.top=n,this.right=t+this.width,this.bottom=n+this.height,this.left=t,this}moveBy(t,n){return this.top+=n,this.right+=t,this.left+=t,this.bottom+=n,this}getIntersection(t){const n={top:Math.max(this.top,t.top),right:Math.min(this.right,t.right),bottom:Math.min(this.bottom,t.bottom),left:Math.max(this.left,t.left),width:0,height:0};if(n.width=n.right-n.left,n.height=n.bottom-n.top,n.width<0||n.height<0)return null;{const i=new m(n);return i._source=this._source,i}}getIntersectionArea(t){const n=this.getIntersection(t);return n?n.getArea():0}getArea(){return this.width*this.height}getVisible(){const t=this._source;let n=this.clone();if(ft(t))return n;let i=t,s=t.parentNode||t.commonAncestorContainer,o;for(;s&&!ft(s);){const r=we(s)==="visible";i instanceof HTMLElement&&ht(i)==="absolute"&&(o=i);const c=ht(s);if(r||o&&(c==="relative"&&r||c!=="relative")){i=s,s=s.parentNode;continue}const l=new m(s),a=n.getIntersection(l);if(a)a.getArea()<n.getArea()&&(n=a);else return null;i=s,s=s.parentNode}return n}isEqual(t){for(const n of Rt)if(this[n]!==t[n])return!1;return!0}contains(t){const n=this.getIntersection(t);return!!(n&&n.isEqual(t))}toAbsoluteRect(){const{scrollX:t,scrollY:n}=w.window,i=this.clone().moveBy(t,n);if(Y(i._source)){const s=Mt(i._source);s&&ye(i,s)}return i}excludeScrollbarsAndBorders(){const t=this._source;let n,i,s;if(N(t))n=t.innerWidth-t.document.documentElement.clientWidth,i=t.innerHeight-t.document.documentElement.clientHeight,s=t.getComputedStyle(t.document.documentElement).direction;else{const o=St(t);n=t.offsetWidth-t.clientWidth-o.left-o.right,i=t.offsetHeight-t.clientHeight-o.top-o.bottom,s=t.ownerDocument.defaultView.getComputedStyle(t).direction,this.left+=o.left,this.top+=o.top,this.right-=o.right,this.bottom-=o.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=n,s==="ltr"?this.right-=n:this.left+=n,this.height-=i,this.bottom-=i,this}static getDomRangeRects(t){const n=[],i=Array.from(t.getClientRects());if(i.length)for(const s of i)n.push(new m(s));else{let s=t.startContainer;vt(s)&&(s=s.parentNode);const o=new m(s.getBoundingClientRect());o.right=o.left,o.width=0,n.push(o)}return n}static getBoundingRect(t){const n={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let i=0;for(const s of t)i++,n.left=Math.min(n.left,s.left),n.top=Math.min(n.top,s.top),n.right=Math.max(n.right,s.right),n.bottom=Math.max(n.bottom,s.bottom);return i==0?null:(n.width=n.right-n.left,n.height=n.bottom-n.top,new m(n))}}function M(e,t){for(const n of Rt)e[n]=t[n]}function ft(e){return Y(e)?e===e.ownerDocument.body:!1}function Y(e){return e!==null&&typeof e=="object"&&e.nodeType===1&&typeof e.getBoundingClientRect=="function"}function ht(e){return e instanceof HTMLElement?e.ownerDocument.defaultView.getComputedStyle(e).position:"static"}function we(e){return e instanceof HTMLElement?e.ownerDocument.defaultView.getComputedStyle(e).overflow:"visible"}function ye(e,t){const n=new m(t),i=St(t);let s=0,o=0;s-=n.left,o-=n.top,s+=t.scrollLeft,o+=t.scrollTop,s-=i.left,o-=i.top,e.moveBy(s,o)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class d{constructor(t,n){d._observerInstance||d._createObserver(),this._element=t,this._callback=n,d._addElementCallback(t,n),d._observerInstance.observe(t)}get element(){return this._element}destroy(){d._deleteElementCallback(this._element,this._callback)}static _addElementCallback(t,n){d._elementCallbacks||(d._elementCallbacks=new Map);let i=d._elementCallbacks.get(t);i||(i=new Set,d._elementCallbacks.set(t,i)),i.add(n)}static _deleteElementCallback(t,n){const i=d._getElementCallbacks(t);i&&(i.delete(n),i.size||(d._elementCallbacks.delete(t),d._observerInstance.unobserve(t))),d._elementCallbacks&&!d._elementCallbacks.size&&(d._observerInstance=null,d._elementCallbacks=null)}static _getElementCallbacks(t){return d._elementCallbacks?d._elementCallbacks.get(t):null}static _createObserver(){d._observerInstance=new w.window.ResizeObserver(t=>{for(const n of t){const i=d._getElementCallbacks(n.target);if(i)for(const s of i)s(n)}})}}d._observerInstance=null;d._elementCallbacks=null;/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function en(e,t){e instanceof HTMLTextAreaElement&&(e.value=t),e.innerHTML=t}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function nn(e){return t=>t+e}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function sn(e){let t=0;for(;e.previousSibling;)e=e.previousSibling,t++;return t}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function on(e,t,n){e.insertBefore(n,e.childNodes[t]||null)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function rn(e){return e&&e.nodeType===Node.COMMENT_NODE}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function cn(e){try{w.document.createAttribute(e)}catch{return!1}return!0}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function ln(e){return!!(e&&e.getClientRects&&e.getClientRects().length)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function an({element:e,target:t,positions:n,limiter:i,fitInViewport:s,viewportOffsetConfig:o}){nt(t)&&(t=t()),nt(i)&&(i=i());const r=Mt(e),c=Ee(o),l=new m(e),a=dt(t,c);let u;if(!a||!c.getIntersection(a))return null;const f={targetRect:a,elementRect:l,positionedElementAncestor:r,viewportRect:c};if(!i&&!s)u=new kt(n[0],f);else{if(i){const _=dt(i,c);_&&(f.limiterRect=_)}u=Te(n,f)}return u}function dt(e,t){const n=new m(e).getVisible();return n?n.getIntersection(t):null}function Ee(e){e=Object.assign({top:0,bottom:0,left:0,right:0},e);const t=new m(w.window);return t.top+=e.top,t.height-=e.top,t.bottom-=e.bottom,t.height-=e.bottom,t}function Te(e,t){const{elementRect:n}=t,i=n.getArea(),s=e.map(c=>new kt(c,t)).filter(c=>!!c.name);let o=0,r=null;for(const c of s){const{limiterIntersectionArea:l,viewportIntersectionArea:a}=c;if(l===i)return c;const u=a**2+l**2;u>o&&(o=u,r=c)}return r}class kt{constructor(t,n){const i=t(n.targetRect,n.elementRect,n.viewportRect,n.limiterRect);if(!i)return;const{left:s,top:o,name:r,config:c}=i;this.name=r,this.config=c,this._positioningFunctionCoordinates={left:s,top:o},this._options=n}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const t=this._options.limiterRect;return t?t.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect?this._cachedRect:(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top),this._cachedRect)}get _absoluteRect(){return this._cachedAbsoluteRect?this._cachedAbsoluteRect:(this._cachedAbsoluteRect=this._rect.toAbsoluteRect(),this._cachedAbsoluteRect)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function un(e){const t=e.parentNode;t&&t.removeChild(e)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function fn({target:e,viewportOffset:t=0,ancestorOffset:n=0,alignToTop:i,forceScroll:s}){const o=z(e);let r=o,c=null;for(t=Le(t);r;){let l;r==o?l=pt(e):l=pt(c),Ie({parent:l,getRect:()=>gt(e,r),alignToTop:i,ancestorOffset:n,forceScroll:s});const a=gt(e,r);if(xe({window:r,rect:a,viewportOffset:t,alignToTop:i,forceScroll:s}),r.parent!=r){if(c=r.frameElement,r=r.parent,!c)return}else r=null}}function xe({window:e,rect:t,alignToTop:n,forceScroll:i,viewportOffset:s}){const o=t.clone().moveBy(0,s.bottom),r=t.clone().moveBy(0,-s.top),c=new m(e).excludeScrollbarsAndBorders(),l=[r,o],a=n&&i,u=l.every(p=>c.contains(p));let{scrollX:f,scrollY:_}=e;const A=f,y=_;a?_-=c.top-t.top+s.top:u||(Nt(r,c)?_-=c.top-t.top+s.top:Ft(o,c)&&(n?_+=t.top-c.top-s.top:_+=t.bottom-c.bottom+s.bottom)),u||(Dt(t,c)?f-=c.left-t.left+s.left:Pt(t,c)&&(f+=t.right-c.right+s.right)),(f!=A||_!==y)&&e.scrollTo(f,_)}function Ie({parent:e,getRect:t,alignToTop:n,forceScroll:i,ancestorOffset:s=0,limiterElement:o}){const r=z(e),c=n&&i;let l,a,u;const f=o||r.document.body;for(;e!=f;)a=t(),l=new m(e).excludeScrollbarsAndBorders(),u=l.contains(a),c?e.scrollTop-=l.top-a.top+s:u||(Nt(a,l)?e.scrollTop-=l.top-a.top+s:Ft(a,l)&&(n?e.scrollTop+=a.top-l.top-s:e.scrollTop+=a.bottom-l.bottom+s)),u||(Dt(a,l)?e.scrollLeft-=l.left-a.left+s:Pt(a,l)&&(e.scrollLeft+=a.right-l.right+s)),e=e.parentNode}function Ft(e,t){return e.bottom>t.bottom}function Nt(e,t){return e.top<t.top}function Dt(e,t){return e.left<t.left}function Pt(e,t){return e.right>t.right}function z(e){return Q(e)?e.startContainer.ownerDocument.defaultView:e.ownerDocument.defaultView}function pt(e){if(Q(e)){let t=e.commonAncestorContainer;return vt(t)&&(t=t.parentNode),t}else return e.parentNode}function gt(e,t){const n=z(e),i=new m(e);if(n===t)return i;{let s=n;for(;s!=t;){const o=s.frameElement,r=new m(o).excludeScrollbarsAndBorders();i.moveBy(r.left,r.top),s=s.parent}}return i}function Le(e){return typeof e=="number"?{top:e,bottom:e,left:e,right:e}:e}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Ae={ctrl:"⌃",cmd:"⌘",alt:"⌥",shift:"⇧"},Ce={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},g=Re(),Se=Object.fromEntries(Object.entries(g).map(([e,t])=>[t,e.charAt(0).toUpperCase()+e.slice(1)]));function D(e){let t;if(typeof e=="string"){if(t=g[e.toLowerCase()],!t)throw new h("keyboard-unknown-key",null,{key:e})}else t=e.keyCode+(e.altKey?g.alt:0)+(e.ctrlKey?g.ctrl:0)+(e.shiftKey?g.shift:0)+(e.metaKey?g.cmd:0);return t}function Bt(e){return typeof e=="string"&&(e=ke(e)),e.map(t=>typeof t=="string"?Me(t):t).reduce((t,n)=>n+t,0)}function hn(e){let t=Bt(e);return Object.entries(R.isMac||R.isiOS?Ae:Ce).reduce((s,[o,r])=>(t&g[o]&&(t&=~g[o],s+=r),s),"")+(t?Se[t]:"")}function dn(e){return e==g.arrowright||e==g.arrowleft||e==g.arrowup||e==g.arrowdown}function ve(e,t){const n=t==="ltr";switch(e){case g.arrowleft:return n?"left":"right";case g.arrowright:return n?"right":"left";case g.arrowup:return"up";case g.arrowdown:return"down"}}function Me(e){if(e.endsWith("!"))return D(e.slice(0,-1));const t=D(e);return(R.isMac||R.isiOS)&&t==g.ctrl?g.cmd:t}function pn(e,t){const n=ve(e,t);return n==="down"||n==="right"}function Re(){const e={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let t=65;t<=90;t++){const n=String.fromCharCode(t);e[n.toLowerCase()]=t}for(let t=48;t<=57;t++)e[t-48]=t;for(let t=112;t<=123;t++)e["f"+(t-111)]=t;for(const t of"`-=[];',./\\")e[t]=t.charCodeAt(0);return e}function ke(e){return e.split("+").map(t=>t.trim())}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Fe=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function mt(e){return Fe.includes(e)?"rtl":"ltr"}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Ne(e){return Array.isArray(e)?e:[e]}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 *//* istanbul ignore else -- @preserve */w.window.CKEDITOR_TRANSLATIONS||(w.window.CKEDITOR_TRANSLATIONS={});function De(e,t,n=1){if(typeof n!="number")throw new h("translation-service-quantity-not-a-number",null,{quantity:n});const i=Be();i===1&&(e=Object.keys(w.window.CKEDITOR_TRANSLATIONS)[0]);const s=t.id||t.string;if(i===0||!Pe(e,s))return n!==1?t.plural:t.string;const o=w.window.CKEDITOR_TRANSLATIONS[e].dictionary,r=w.window.CKEDITOR_TRANSLATIONS[e].getPluralForm||(a=>a===1?0:1),c=o[s];if(typeof c=="string")return c;const l=Number(r(n));return c[l]}function Pe(e,t){return!!w.window.CKEDITOR_TRANSLATIONS[e]&&!!w.window.CKEDITOR_TRANSLATIONS[e].dictionary[t]}function Be(){return Object.keys(w.window.CKEDITOR_TRANSLATIONS).length}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class gn{constructor({uiLanguage:t="en",contentLanguage:n}={}){this.uiLanguage=t,this.contentLanguage=n||this.uiLanguage,this.uiLanguageDirection=mt(this.uiLanguage),this.contentLanguageDirection=mt(this.contentLanguage),this.t=(i,s)=>this._t(i,s)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(t,n=[]){n=Ne(n),typeof t=="string"&&(t={string:t});const s=!!t.plural?n[0]:1,o=De(this.uiLanguage,t,s);return Oe(o,n)}}function Oe(e,t){return e.replace(/%(\d+)/g,(n,i)=>i<t.length?t[i]:n)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class mn extends T(){constructor(t={},n={}){super();const i=Z(t);if(i||(n=t),this._items=[],this._itemMap=new Map,this._idProperty=n.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],i)for(const s of t)this._items.push(s),this._itemMap.set(this._getItemIdBeforeAdding(s),s)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(t,n){return this.addMany([t],n)}addMany(t,n){if(n===void 0)n=this._items.length;else if(n>this._items.length||n<0)throw new h("collection-add-item-invalid-index",this);let i=0;for(const s of t){const o=this._getItemIdBeforeAdding(s),r=n+i;this._items.splice(r,0,s),this._itemMap.set(o,s),this.fire("add",s,r),i++}return this.fire("change",{added:t,removed:[],index:n}),this}get(t){let n;if(typeof t=="string")n=this._itemMap.get(t);else if(typeof t=="number")n=this._items[t];else throw new h("collection-get-invalid-arg",this);return n||null}has(t){if(typeof t=="string")return this._itemMap.has(t);{const n=this._idProperty,i=t[n];return i&&this._itemMap.has(i)}}getIndex(t){let n;return typeof t=="string"?n=this._itemMap.get(t):n=t,n?this._items.indexOf(n):-1}remove(t){const[n,i]=this._remove(t);return this.fire("change",{added:[],removed:[n],index:i}),n}map(t,n){return this._items.map(t,n)}forEach(t,n){this._items.forEach(t,n)}find(t,n){return this._items.find(t,n)}filter(t,n){return this._items.filter(t,n)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const t=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:t,index:0})}bindTo(t){if(this._bindToCollection)throw new h("collection-bind-to-rebind",this);return this._bindToCollection=t,{as:n=>{this._setUpBindToBinding(i=>new n(i))},using:n=>{typeof n=="function"?this._setUpBindToBinding(n):this._setUpBindToBinding(i=>i[n])}}}_setUpBindToBinding(t){const n=this._bindToCollection,i=(s,o,r)=>{const c=n._bindToCollection==this,l=n._bindToInternalToExternalMap.get(o);if(c&&l)this._bindToExternalToInternalMap.set(o,l),this._bindToInternalToExternalMap.set(l,o);else{const a=t(o);if(!a){this._skippedIndexesFromExternal.push(r);return}let u=r;for(const f of this._skippedIndexesFromExternal)r>f&&u--;for(const f of n._skippedIndexesFromExternal)u>=f&&u++;this._bindToExternalToInternalMap.set(o,a),this._bindToInternalToExternalMap.set(a,o),this.add(a,u);for(let f=0;f<n._skippedIndexesFromExternal.length;f++)u<=n._skippedIndexesFromExternal[f]&&n._skippedIndexesFromExternal[f]++}};for(const s of n)i(null,s,n.getIndex(s));this.listenTo(n,"add",i),this.listenTo(n,"remove",(s,o,r)=>{const c=this._bindToExternalToInternalMap.get(o);c&&this.remove(c),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((l,a)=>(r<a&&l.push(a-1),r>a&&l.push(a),l),[])})}_getItemIdBeforeAdding(t){const n=this._idProperty;let i;if(n in t){if(i=t[n],typeof i!="string")throw new h("collection-add-invalid-id",this);if(this.get(i))throw new h("collection-add-item-already-exists",this)}else t[n]=i=X();return i}_remove(t){let n,i,s,o=!1;const r=this._idProperty;if(typeof t=="string"?(i=t,s=this._itemMap.get(i),o=!s,s&&(n=this._items.indexOf(s))):typeof t=="number"?(n=t,s=this._items[n],o=!s,s&&(i=s[r])):(s=t,i=s[r],n=this._items.indexOf(s),o=n==-1||!this._itemMap.get(i)),o)throw new h("collection-remove-404",this);this._items.splice(n,1),this._itemMap.delete(i);const c=this._bindToInternalToExternalMap.get(s);return this._bindToInternalToExternalMap.delete(s),this._bindToExternalToInternalMap.delete(c),this.fire("remove",s,n),[s,n]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function bn(e){const t=e.next();return t.done?null:t.value}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class _n extends B(J()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(t){if(this._elements.has(t))throw new h("focustracker-add-element-already-exist",this);this.listenTo(t,"focus",()=>this._focus(t),{useCapture:!0}),this.listenTo(t,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(t)}remove(t){t===this.focusedElement&&this._blur(),this._elements.has(t)&&(this.stopListening(t),this._elements.delete(t))}destroy(){this.stopListening()}_focus(t){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=t,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class wn{constructor(){this._listener=new(B())}listenTo(t){this._listener.listenTo(t,"keydown",(n,i)=>{this._listener.fire("_keydown:"+D(i),i)})}set(t,n,i={}){const s=Bt(t),o=i.priority;this._listener.listenTo(this._listener,"_keydown:"+s,(r,c)=>{n(c,()=>{c.preventDefault(),c.stopPropagation(),r.stop()}),r.return=!0},{priority:o})}press(t){return!!this._listener.fire("_keydown:"+D(t),t)}stopListening(t){this._listener.stopListening(t)}destroy(){this.stopListening()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Ve(e){const t=new Map;for(const n in e)t.set(n,e[n]);return t}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function yn(e){return Z(e)?new Map(e):Ve(e)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const je=1e4;function En(e,t,n,i){if(Math.max(t.length,e.length)>je)return e.slice(0,n).concat(t).concat(e.slice(n+i,e.length));{const s=Array.from(e);return s.splice(n,i,...t),s}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Tn(e,t){let n;function i(...s){i.cancel(),n=setTimeout(()=>e(...s),t)}return i.cancel=()=>{clearTimeout(n)},i}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function xn(e){function t(f){return f.length>=40&&f.length<=255?"VALID":"INVALID"}if(!e)return"INVALID";let n="";try{n=atob(e)}catch{return"INVALID"}const i=n.split("-"),s=i[0],o=i[1];if(!o)return t(e);try{atob(o)}catch{try{if(atob(s),!atob(s).length)return t(e)}catch{return t(e)}}if(s.length<40||s.length>255)return"INVALID";let r="";try{atob(s),r=atob(o)}catch{return"INVALID"}if(r.length!==8)return"INVALID";const c=Number(r.substring(0,4)),l=Number(r.substring(4,6))-1,a=Number(r.substring(6,8)),u=new Date(c,l,a);return u<se||isNaN(Number(u))?"INVALID":"VALID"}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Ke(e){return!!e&&e.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(e)}function We(e){return!!e&&e.length==1&&/[\ud800-\udbff]/.test(e)}function He(e){return!!e&&e.length==1&&/[\udc00-\udfff]/.test(e)}function In(e,t){return We(e.charAt(t-1))&&He(e.charAt(t))}function Ln(e,t){return Ke(e.charAt(t))}const Ue=Ge();function An(e,t){const n=String(e).matchAll(Ue);return Array.from(n).some(i=>i.index<t&&t<i.index+i[0].length)}function Ge(){const e=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],t=new RegExp("\\p{Regional_Indicator}{2}","u").source,n="(?:"+e.map(s=>s.source).join("|")+")",i=`${t}|${n}(?:‍${n})*`;return new RegExp(i,"ug")}export{pn as $,Xt as A,cn as B,h as C,B as D,H as E,bn as F,sn as G,ze as H,D as I,dn as J,wn as K,gn as L,fn as M,En as N,J as O,U as P,In as Q,m as R,Ln as S,An as T,_n as U,Bt as V,hn as W,an as X,ln as Y,Q as Z,xn as _,d as a,ve as a0,T as b,Ze as c,Tn as d,R as e,Qe as f,w as g,mn as h,Ye as i,tn as j,Je as k,qe as l,Ne as m,yn as n,Z as o,Xe as p,g as q,vt as r,en as s,nn as t,X as u,un as v,on as w,_t as x,ut as y,rn as z};
