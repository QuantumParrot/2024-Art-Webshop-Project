import{d as H,m as N,a as D}from"./pinia@2.1.7_vue@3.4.19-CHKlOEZr.js";import{a as M}from"./axios@1.6.7-Di5RpEPX.js";import{l as R,a as j}from"./alert-dm0RMdUk.js";import{P as z}from"./PaginationComponent-4_Ogzq_q.js";import{m as F}from"./modal-Nw3quRD0.js";import{U as B}from"./UploadForm-Dna5nbSA.js";import{m as y,l as E}from"./@vue_runtime-dom@3.4.19-AC5g8dxk.js";import{_ as T}from"./index-CJUq1A7p.js";import{aj as n,O as d,P as t,c,aH as q,aJ as _,F as P,ao as A,N as C,M as O,aq as b,al as J,ak as W,V as w}from"./@vue_runtime-core@3.4.19-CGfIweqO.js";import{P as v,n as a}from"./@vue_shared@3.4.19-Bk7MlA8B.js";import{D as G}from"./DeleteModal-BpGDoEc7.js";import"./vue-demi@0.14.7_vue@3.4.19-Dq6ymT-8.js";import"./@vue_reactivity@3.4.19-Ddpy7v_1.js";import"./sweetalert2@11.10.5-jk-t8Na3.js";import"./@ckeditor_ckeditor5-vue@5.1.0-nhPJMPZe.js";import"./vue@3.4.19-CzIOYL8w.js";import"./bootstrap@5.3.2_@popperjs_core@2.11.8-Djxe9Xmu.js";import"./ClipboardComponent-DQcxTBcW.js";import"./clipboard@2.0.11-CIUMpgwV.js";/* empty css                               *//* empty css                          */import"./vee-validate@4.12.5_vue@3.4.19-Bp4gs7Rm.js";import"./@vee-validate_rules@4.12.5_vue@3.4.19-Bg5iSJV4.js";import"./@vee-validate_i18n@4.12.5-DXNnfMG0.js";import"./vue-axios@3.5.2_axios@1.6.7_vue@3.4.19-BaogFJPH.js";import"./moment@2.30.1-Cl4UOzQZ.js";import"./vue-loading-overlay@6.0.4_vue@3.4.19-eCggCihV.js";import"./vue-router@4.2.5_vue@3.4.19-DxgIm9Z7.js";import"./aos@2.3.4-DDXLjS56.js";var K={VITE_APP_SITE:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"ataraxia",BASE_URL:"/2024-Art-Webshop-Project/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_SITE:V,VITE_APP_PATH:S}=K,h=R(),f=j(),L=H("adminProduct",{state:()=>({products:[],filter:"全部",currentPage:1}),getters:{categories:({products:s})=>{const e=[];return s.forEach(r=>{e.includes(r.category)||e.push(r.category)}),e},tagsList:({products:s})=>{const e=[];return s.forEach(r=>{r.tags&&r.tags.forEach(p=>{e.includes(p)||e.push(p)})}),e.sort((r,p)=>r.length-p.length)},productsList:({products:s,filter:e})=>e==="全部"?s:s.filter(r=>r.category===e),totalPages:({productsList:s})=>Math.ceil(s.length/5),displaying:({productsList:s,currentPage:e})=>s.toSorted((p,o)=>p.price-o.price).filter((p,o)=>Math.floor(o/5)===e-1)},actions:{switchPage(s){this.currentPage=s},getProducts(){h.createLoader("get-products"),M.get(`${V}/api/${S}/admin/products/all`).then(s=>{const{products:e}=s.data;this.products=Object.values(e),this.totalPages===0&&this.switchFilter("全部"),this.currentPage>this.totalPages&&this.switchPage(1)}).catch(s=>f.errorAlert(s)).finally(()=>h.removeLoader("get-products"))},createProduct(s,e){h.createLoader("create-products"),M.post(`${V}/api/${S}/admin/product`,{data:s}).then(r=>{const{message:p}=r.data;f.toastAlert(p,"success"),e(),this.getProducts()}).catch(r=>f.errorAlert(r)).finally(()=>h.removeLoader("create-products"))},updateProduct(s,e){h.createLoader("update-products"),M.put(`${V}/api/${S}/admin/product/${s.id}`,{data:s}).then(r=>{f.toastAlert(r.data.message,"success"),e(),this.getProducts()}).catch(r=>f.errorAlert(r)).finally(()=>h.removeLoader("update-products"))},switchProductStatus(s){const e=s.is_enabled;h.createLoader("switch-product-status"),M.put(`${V}/api/${S}/admin/product/${s.id}`,{data:{...s,is_enabled:!s.is_enabled}}).then(()=>{f.toastAlert(`成功${e?"下架":"上架"}`,"success"),this.getProducts()}).catch(r=>f.errorAlert(r)).finally(()=>h.removeLoader("switch-product-status"))},deleteProduct(s,e){h.createLoader("delete-product"),M.delete(`${V}/api/${S}/admin/product/${s}`).then(()=>{f.toastAlert("我們懷念它 (´;ω;`)","success"),e(),this.getProducts()}).catch(r=>f.errorAlert(r)).finally(()=>h.removeLoader("delete-product"))},switchFilter(s){this.switchPage(1),this.filter=s}}}),Q={components:{UploadForm:B},mixins:[F],props:["tempProduct"],data(){return{modal:"",title:"",tab:"content",product:{imagesUrl:[],tags:[]},uploadState:!1}},computed:{...N(L,["tagsList"])},watch:{tempProduct(){this.updateData()}},methods:{...D(L,["createProduct","updateProduct"]),...D(j,["toastAlert"]),updateData(){this.product=this.tempProduct,this.title=this.tempProduct.title;const{imagesUrl:s,tags:e}=this.tempProduct;this.product.imagesUrl=Array.isArray(s)?[...s]:[],this.product.tags=Array.isArray(e)?[...e]:[],this.tab="content"},addNewImage(s){this.product.imageUrl?(this.product.imagesUrl=this.product.imagesUrl.filter(e=>e),this.product.imagesUrl.push(s)):this.product.imageUrl=s},confirmUpdate(){this.product.imagesUrl=this.product.imagesUrl.filter(s=>s),this.product.tags=this.product.tags.filter(s=>s),this.product.id?this.updateProduct(this.product,this.hideModal):this.createProduct(this.product,this.hideModal)},updateState(s){this.uploadState=s}},mounted(){this.updateData()}},i=s=>(J("data-v-b726d301"),s=s(),W(),s),X={class:"modal modal-lg fade",tabindex:"-1",ref:"modal"},Y={class:"modal-dialog modal-dialog-centered"},Z={class:"modal-content"},tt={class:"modal-header"},et={class:"mb-0"},ot=i(()=>t("i",{class:"bi bi-x-circle-fill"},null,-1)),st=[ot],lt={class:"modal-body"},it={class:"alert bg-gray"},rt=i(()=>t("p",null,[w("欄位完成度（ "),t("span",{class:"text-danger"},"*"),w(" 為必填欄位 ）")],-1)),nt={class:"row fw-bold"},dt={class:"col"},ct=i(()=>t("span",null,"名稱",-1)),at={class:"col"},ut=i(()=>t("span",null,"別名",-1)),pt={class:"col"},mt=i(()=>t("span",null,"規格",-1)),_t={class:"col"},ht=i(()=>t("span",null,"分類",-1)),bt={class:"col"},gt=i(()=>t("span",null,"單位",-1)),ft={class:"col"},vt=i(()=>t("span",null,"介紹",-1)),yt={class:"col"},wt=i(()=>t("span",null,"原價",-1)),Pt={class:"col"},kt=i(()=>t("span",null,"售價",-1)),Ut={class:"col"},xt=i(()=>t("span",null,"主圖",-1)),Mt={class:"nav nav-pills flex-nowrap text-nowrap overflow-x-scroll bg-gray rounded-2 mb-3"},Vt={class:"nav-item flex-grow-1"},St={class:"nav-item flex-grow-1"},qt={class:"nav-item flex-grow-1"},Ct={class:"nav-item flex-grow-1"},At={class:"nav-item flex-grow-1"},Lt={class:"alert border rounded-2"},$t={class:"mb-3"},It=i(()=>t("label",{class:"form-label is-required",for:"title"},"商品名稱",-1)),Et={class:"mb-3"},Dt=i(()=>t("label",{class:"form-label is-required",for:"subtitle"},"商品別名",-1)),Tt={class:"mb-3"},Nt=i(()=>t("label",{class:"form-label is-required",for:"content"},"商品規格",-1)),jt={class:"row row-cols-2"},Ft={class:"col"},Bt=i(()=>t("label",{class:"form-label is-required",for:"category"},"商品分類",-1)),Ot={class:"col"},Ht=i(()=>t("label",{class:"form-label is-required",for:"unit"},"商品單位",-1)),Rt={class:"mb-3"},zt=i(()=>t("label",{class:"form-label mb-3 is-required",for:"description"},"商品介紹",-1)),Jt=i(()=>t("label",{class:"form-label mb-3",for:"notes"},"商品備註",-1)),Wt={class:"mb-3"},Gt=i(()=>t("div",{class:"flex-classic mb-2"},[t("label",{class:"is-required",for:"origin_price"},"商品原價"),t("span",{class:"fs-7 text-danger"}," 必須是大於零的整數")],-1)),Kt={class:"mb-0"},Qt=i(()=>t("div",{class:"flex-classic mb-2"},[t("label",{class:"is-required",for:"price"},"商品售價"),t("span",{class:"fs-7 text-danger"}," 必須是大於零的整數")],-1)),Xt={class:"mb-3"},Yt=i(()=>t("p",null,"商品標籤",-1)),Zt={class:"row g-3 mb-3"},te=["onUpdate:modelValue"],ee=["onClick"],oe=i(()=>t("i",{class:"bi bi-x-lg"},null,-1)),se=[oe],le=i(()=>t("p",null,"曾經使用過的標籤：",-1)),ie={class:"d-flex gap-2 flex-wrap"},re=["onClick"],ne={class:"badge p-2 bg-subtle text-primary fs-6"},de={class:"mb-3"},ce=i(()=>t("h5",{class:"fw-bold mb-3"},"圖片設定",-1)),ae=i(()=>t("label",{class:"form-label is-required",for:"imageUrl"},"主圖網址",-1)),ue={class:"position-relative"},pe=i(()=>t("i",{class:"bi bi-x-lg"},null,-1)),me=[pe],_e=["src","alt"],he={key:0,class:"mb-3"},be=i(()=>t("p",null,"副圖網址",-1)),ge={class:"row g-3"},fe=["onUpdate:modelValue"],ve=["onClick"],ye=i(()=>t("i",{class:"bi bi-x-lg"},null,-1)),we=[ye],Pe=["src","alt"],ke=["disabled"],Ue={class:"p-3 border rounded-2 mt-3"},xe=i(()=>t("h5",{class:"fw-bold mb-3"},"上傳圖片",-1)),Me={class:"modal-footer"},Ve=["disabled"];function Se(s,e,r,p,o,g){const k=b("loading-overlay"),u=b("v-field"),$=b("upload-form"),I=b("v-form");return n(),d("div",X,[t("div",Y,[c(k,{"is-loading":o.uploadState,"is-full":!1},null,8,["is-loading"]),t("div",Z,[t("div",tt,[t("h4",et,v(o.title?o.title:"新增商品"),1),t("button",{type:"button",class:"btn border-0 p-0 fs-4",onClick:e[0]||(e[0]=(...U)=>s.hideModal&&s.hideModal(...U))},st)]),c(I,{onSubmit:g.confirmUpdate,ref:"form"},{default:q(({meta:U})=>[t("div",lt,[t("div",it,[rt,t("div",nt,[t("div",dt,[t("i",{class:a(["bi me-2",o.product.title?"bi-check-square text-success":"bi-square"])},null,2),ct]),t("div",at,[t("i",{class:a(["bi me-2",o.product.subtitle?"bi-check-square text-success":"bi-square"])},null,2),ut]),t("div",pt,[t("i",{class:a(["bi me-2",o.product.content?"bi-check-square text-success":"bi-square"])},null,2),mt]),t("div",_t,[t("i",{class:a(["bi me-2",o.product.category?"bi-check-square text-success":"bi-square"])},null,2),ht]),t("div",bt,[t("i",{class:a(["bi me-2",o.product.unit?"bi-check-square text-success":"bi-square"])},null,2),gt]),t("div",ft,[t("i",{class:a(["bi me-2",o.product.description?"bi-check-square text-success":"bi-square"])},null,2),vt]),t("div",yt,[t("i",{class:a(["bi me-2",o.product.origin_price?"bi-check-square text-success":"bi-square"])},null,2),wt]),t("div",Pt,[t("i",{class:a(["bi me-2",o.product.price?"bi-check-square text-success":"bi-square"])},null,2),kt]),t("div",Ut,[t("i",{class:a(["bi me-2",o.product.imageUrl?"bi-check-square text-success":"bi-square"])},null,2),xt])])]),t("ul",Mt,[t("li",Vt,[t("button",{type:"button",onClick:e[1]||(e[1]=l=>o.tab="content"),class:a(["w-100 nav-link",{active:o.tab==="content"}])}," 商品內容",2)]),t("li",St,[t("button",{type:"button",onClick:e[2]||(e[2]=l=>o.tab="description"),class:a(["w-100 nav-link",{active:o.tab==="description"}])}," 商品介紹",2)]),t("li",qt,[t("button",{type:"button",onClick:e[3]||(e[3]=l=>o.tab="price"),class:a(["w-100 nav-link",{active:o.tab==="price"}])}," 商品售價",2)]),t("li",Ct,[t("button",{type:"button",onClick:e[4]||(e[4]=l=>o.tab="tags"),class:a(["w-100 nav-link",{active:o.tab==="tags"}])}," 商品標籤",2)]),t("li",At,[t("button",{type:"button",onClick:e[5]||(e[5]=l=>o.tab="image"),class:a(["w-100 nav-link",{active:o.tab==="image"}])}," 商品圖片",2)])]),t("div",Lt,[_(t("div",null,[t("div",$t,[It,c(u,{type:"text",id:"title",class:"form-control",modelValue:o.product.title,"onUpdate:modelValue":e[6]||(e[6]=l=>o.product.title=l),modelModifiers:{trim:!0},name:"title",rules:"required"},null,8,["modelValue"])]),t("div",Et,[Dt,c(u,{type:"text",id:"subtitle",class:"form-control",modelValue:o.product.subtitle,"onUpdate:modelValue":e[7]||(e[7]=l=>o.product.subtitle=l),modelModifiers:{trim:!0},name:"subtitle",rules:"required"},null,8,["modelValue"])]),t("div",Tt,[Nt,c(u,{type:"text",id:"content",class:"form-control",modelValue:o.product.content,"onUpdate:modelValue":e[8]||(e[8]=l=>o.product.content=l),modelModifiers:{trim:!0},name:"content",rules:"required",placeholder:"商品的材質與尺寸"},null,8,["modelValue"])]),t("div",jt,[t("div",Ft,[Bt,c(u,{type:"text",id:"category",class:"form-control",modelValue:o.product.category,"onUpdate:modelValue":e[9]||(e[9]=l=>o.product.category=l),modelModifiers:{trim:!0},name:"category",rules:"required"},null,8,["modelValue"])]),t("div",Ot,[Ht,c(u,{type:"text",id:"unit",class:"form-control",modelValue:o.product.unit,"onUpdate:modelValue":e[10]||(e[10]=l=>o.product.unit=l),modelModifiers:{trim:!0},name:"unit",rules:"required"},null,8,["modelValue"])])])],512),[[y,o.tab==="content"]]),_(t("div",null,[t("div",Rt,[zt,c(u,{id:"description",rows:"10",class:"form-control text-justify",modelValue:o.product.description,"onUpdate:modelValue":e[11]||(e[11]=l=>o.product.description=l),modelModifiers:{trim:!0},name:"description",rules:"required",as:"textarea"},null,8,["modelValue"])]),Jt,_(t("textarea",{id:"notes",rows:"3",class:"form-control text-justify","onUpdate:modelValue":e[12]||(e[12]=l=>o.product.notes=l),placeholder:"需要讓消費者知道的購買須知"},null,512),[[E,o.product.notes,void 0,{trim:!0}]])],512),[[y,o.tab==="description"]]),_(t("div",null,[t("div",Wt,[Gt,c(u,{id:"origin_price",type:"number",min:"1",class:"form-control",modelValue:o.product.origin_price,"onUpdate:modelValue":e[13]||(e[13]=l=>o.product.origin_price=l),modelModifiers:{number:!0},name:"origin_price",rules:"required|integer|min_value:1"},null,8,["modelValue"])]),t("div",Kt,[Qt,c(u,{id:"price",type:"number",min:"1",class:"form-control",modelValue:o.product.price,"onUpdate:modelValue":e[14]||(e[14]=l=>o.product.price=l),modelModifiers:{number:!0},name:"price",rules:"required|integer|min_value:1"},null,8,["modelValue"])])],512),[[y,o.tab==="price"]]),_(t("div",null,[t("div",Xt,[Yt,t("div",Zt,[(n(!0),d(P,null,A(o.product.tags,(l,m)=>(n(),d("div",{class:"col-md-3 position-relative",key:l},[_(t("input",{type:"text",class:"form-control","onUpdate:modelValue":x=>o.product.tags[m]=x},null,8,te),[[E,o.product.tags[m]]]),t("button",{type:"button",class:"btn btn-origin btn-inline",onClick:x=>o.product.tags.splice(m,1)},se,8,ee)]))),128))]),t("button",{type:"button",class:"btn btn-primary",onClick:e[15]||(e[15]=l=>o.product.tags.push(""))}," 新增標籤")]),le,t("div",ie,[(n(!0),d(P,null,A(s.tagsList,l=>(n(),d("button",{key:l,type:"button",class:"btn btn-origin",onClick:m=>o.product.tags.push(l)},[t("span",ne,v(l),1)],8,re))),128))])],512),[[y,o.tab==="tags"]]),_(t("div",null,[t("div",de,[ce,ae,t("div",ue,[c(u,{id:"imageUrl",type:"text",class:"form-control pe-7 mb-3",modelValue:o.product.imageUrl,"onUpdate:modelValue":e[16]||(e[16]=l=>o.product.imageUrl=l),modelModifiers:{trim:!0},name:"imageUrl",rules:"required|url"},null,8,["modelValue"]),_(t("button",{type:"button",class:"btn btn-origin btn-inline",onClick:e[17]||(e[17]=l=>o.product.imageUrl="")},me,512),[[y,o.product.imageUrl]])]),o.product.imageUrl?(n(),d("img",{key:0,src:o.product.imageUrl,alt:o.product.title},null,8,_e)):C("",!0)]),o.product.imagesUrl.length?(n(),d("div",he,[be,t("div",ge,[(n(!0),d(P,null,A(o.product.imagesUrl,(l,m)=>(n(),d("div",{key:l,class:"col-md-6 position-relative"},[_(t("input",{type:"text",class:"form-control pe-6","onUpdate:modelValue":x=>o.product.imagesUrl[m]=x},null,8,fe),[[E,o.product.imagesUrl[m],void 0,{trim:!0}]]),t("button",{type:"button",class:"btn btn-origin btn-inline",onClick:x=>o.product.imagesUrl.splice(m,1)},we,8,ve),l?(n(),d("img",{key:0,class:"mt-3",src:l,alt:o.product.title},null,8,Pe)):C("",!0)]))),128))])])):C("",!0),t("button",{type:"button",class:"btn btn-primary",onClick:e[18]||(e[18]=l=>o.product.imagesUrl.push("")),disabled:o.product.imagesUrl.length>4}," 新增圖片",8,ke)],512),[[y,o.tab==="image"]])]),_(t("div",Ue,[xe,o.product.imagesUrl.length<5?(n(),O($,{key:0,"use-clipboard":!1,"upload-state":o.uploadState,onAddNewImage:g.addNewImage,onUpdateUploadState:g.updateState},null,8,["upload-state","onAddNewImage","onUpdateUploadState"])):C("",!0)],512),[[y,o.tab==="image"]])]),t("div",Me,[t("button",{type:"submit",class:"btn btn-primary",disabled:!U.valid},"確認更新",8,Ve),t("button",{type:"button",class:"btn btn-outline-secondary",onClick:e[19]||(e[19]=(...l)=>s.hideModal&&s.hideModal(...l))},"取消")])]),_:1},8,["onSubmit"])])])],512)}const qe=T(Q,[["render",Se],["__scopeId","data-v-b726d301"]]),Ce={components:{UploadForm:B},mixins:[F],data(){return{modal:"",uploadState:!1}},methods:{updateState(s){this.uploadState=s}}},Ae={class:"modal fade",tabindex:"-1",ref:"modal"},Le={class:"modal-dialog modal-dialog-centered"},$e={class:"modal-content"},Ie={class:"modal-header"},Ee=t("h4",{class:"mb-0"},"上傳圖片",-1),De=["disabled"],Te=t("i",{class:"bi bi-x-circle-fill"},null,-1),Ne=[Te],je={class:"modal-body"};function Fe(s,e,r,p,o,g){const k=b("upload-form");return n(),d("div",Ae,[t("div",Le,[t("div",$e,[t("div",Ie,[Ee,t("button",{type:"button",class:"btn border-0 p-0 fs-4",onClick:e[0]||(e[0]=(...u)=>s.hideModal&&s.hideModal(...u)),disabled:o.uploadState},Ne,8,De)]),t("div",je,[c(k,{"use-clipboard":!0,"upload-state":o.uploadState,onUpdateUploadState:g.updateState},null,8,["upload-state","onUpdateUploadState"])])])])],512)}const Be=T(Ce,[["render",Fe]]),Oe={components:{PaginationComponent:z,AdminProductModal:qe,UploadModal:Be,DeleteModal:G},data(){return{tempProduct:{}}},computed:{...N(L,["products","productsList","categories","filter","displaying","currentPage","totalPages"])},methods:{...D(L,["switchPage","switchFilter","getProducts","switchProductStatus","deleteProduct"]),openModal(s,e){this.tempProduct=s?{...s}:{is_enabled:!1},e==="delete"?this.$refs.deleteModal.showModal():this.$refs.productModal.showModal()}},created(){this.getProducts()}},He={class:"text-end mb-7"},Re=t("h3",{class:"fs-2 mb-2"},"商品管理",-1),ze={class:"text-muted"},Je={class:"row justify-content-between gx-3 gy-3 gy-md-0 mb-4"},We={class:"col-md-4"},Ge={class:"h-100 alert bg-gray flex-classic mb-0"},Ke=t("i",{class:"bi bi-plus-lg me-1"},null,-1),Qe=t("i",{class:"bi bi-upload me-1"},null,-1),Xe={class:"col-md-8"},Ye={class:"h-100 alert bg-gray d-flex justify-content-end mb-0"},Ze={class:"d-flex justify-content-end mb-4"},to=["value"],eo=t("option",{value:"全部"},"全部",-1),oo=["value"],so={key:0,class:"table-responsive"},lo={class:"table table-hover text-nowrap"},io=t("thead",null,[t("tr",null,[t("th",{scope:"col",width:"10%",class:"d-none d-md-table-cell"},"分類"),t("th",{scope:"col",width:"45%"},"名稱"),t("th",{scope:"col",width:"10%",class:"text-end"},"原價"),t("th",{scope:"col",width:"10%",class:"text-end"},"售價"),t("th",{scope:"col",width:"10%",class:"text-center"},"狀態"),t("th",{scope:"col",width:"15%",class:"text-center"},"管理")])],-1),ro={class:"align-middle"},no={class:"d-none d-md-table-cell"},co={class:"badge bg-highlight text-dark py-2"},ao=t("i",{class:"bi bi-box-arrow-up-right"},null,-1),uo={class:"text-end"},po={class:"text-end"},mo={class:"text-center"},_o={class:"form-switch"},ho=["checked","onChange"],bo={class:"text-center"},go={class:"d-flex flex-column gap-2"},fo=["onClick"],vo=["onClick"],yo={key:1,class:"alert bg-gray"},wo=["src","alt"];function Po(s,e,r,p,o,g){const k=b("pagination-component"),u=b("router-link"),$=b("upload-modal"),I=b("admin-product-modal"),U=b("delete-modal");return n(),d(P,null,[t("div",He,[Re,t("p",ze,[t("span",null,"目前共有 "+v(s.products.length)+" 項商品，",1),t("span",null,v(s.products.filter(l=>l.is_enabled).length)+" 項上架中",1)])]),t("div",Je,[t("div",We,[t("div",Ge,[t("button",{type:"button",class:"w-100 btn btn-primary me-3",onClick:e[0]||(e[0]=l=>g.openModal())},[Ke,w(" 新增商品")]),t("button",{type:"button",class:"w-100 btn btn-primary",onClick:e[1]||(e[1]=(...l)=>s.$refs.uploadModal.showModal&&s.$refs.uploadModal.showModal(...l))},[Qe,w(" 上傳圖片")])])]),t("div",Xe,[t("div",Ye,[c(k,{total:s.totalPages,current:s.currentPage,onSwitchPage:s.switchPage},null,8,["total","current","onSwitchPage"])])])]),t("div",Ze,[t("div",null,[t("select",{class:"form-select",value:s.filter,onChange:e[2]||(e[2]=l=>s.switchFilter(l.target.value))},[eo,(n(!0),d(P,null,A(s.categories,l=>(n(),d("option",{key:l,value:l},v(l),9,oo))),128))],40,to)])]),s.products.length?(n(),d("div",so,[t("table",lo,[io,t("tbody",ro,[(n(!0),d(P,null,A(s.displaying,l=>(n(),d("tr",{key:l.id},[t("td",no,[t("span",co,v(l.category),1)]),t("td",null,[l.is_enabled?(n(),O(u,{key:0,class:"text-info me-3",target:"_blank",to:`/product/${l.id}`},{default:q(()=>[ao]),_:2},1032,["to"])):C("",!0),t("span",null,v(l.title),1)]),t("td",uo,"$ "+v(l.origin_price),1),t("td",po,"$ "+v(l.price),1),t("td",mo,[t("div",_o,[t("input",{type:"checkbox",role:"switch",class:"form-check-input",checked:l.is_enabled,onChange:m=>s.switchProductStatus(l)},null,40,ho)])]),t("td",bo,[t("div",go,[t("button",{type:"button",class:"btn btn-outline-secondary",onClick:m=>g.openModal(l,"update")}," 編輯",8,fo),t("button",{type:"button",class:"btn btn-outline-danger",onClick:m=>g.openModal(l,"delete")}," 刪除",8,vo)])])]))),128))])])])):(n(),d("div",yo,"還沒有任何商品！趕快建立一個吧！")),c($,{ref:"uploadModal"},null,512),c(I,{ref:"productModal","temp-product":o.tempProduct},null,8,["temp-product"]),c(U,{ref:"deleteModal",onDeleteTarget:e[3]||(e[3]=l=>s.deleteProduct(o.tempProduct.id,this.$refs.deleteModal.hideModal))},{title:q(()=>[w("確定刪除商品？")]),alert:q(()=>[w("這個操作無法復原喔！你要確定欸！(ﾟдﾟ≡ﾟдﾟ)")]),itemDetail:q(()=>[t("img",{class:"img-zoom-out mb-4",src:o.tempProduct.imageUrl,alt:o.tempProduct.title},null,8,wo)]),_:1},512)],64)}const Yo=T(Oe,[["render",Po]]);export{Yo as default};
