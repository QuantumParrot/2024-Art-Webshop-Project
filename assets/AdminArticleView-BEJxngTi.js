import{m as k,a as y}from"./pinia@2.1.7_vue@3.4.19-BGrtT45R.js";import{a as u}from"./adminArticle-DrdDTXcf.js";import{P as w}from"./PaginationComponent-CzvhqTdc.js";import{n as h}from"./@vue_runtime-dom@3.4.19-Jk3xLe3-.js";import{_ as C}from"./index-TqJ5F-GX.js";import{A as c,Q as t,c as p,aH as f,F as g,ao as A,aq as b,z as r,al as x,ak as P}from"./@vue_runtime-core@3.4.19-CKRBtKAL.js";import{n as _,P as i}from"./@vue_shared@3.4.19-Bk7MlA8B.js";import"./vue-demi@0.14.7_vue@3.4.19-Dq6ymT-8.js";import"./@vue_reactivity@3.4.19-Ddpy7v_1.js";import"./axios@1.6.7-Di5RpEPX.js";import"./alert-Dw2Xe9FX.js";import"./sweetalert2@11.10.5-Csd-Z1-j.js";import"./@ckeditor_ckeditor5-vue@5.1.0-BEtXLgA-.js";import"./vue@3.4.19-C3VIO2t_.js";/* empty css                               */import"./vee-validate@4.12.5_vue@3.4.19-BmIHdE2I.js";import"./@vee-validate_rules@4.12.5_vue@3.4.19-DqtB_02U.js";import"./@vee-validate_i18n@4.12.5-DXNnfMG0.js";import"./vue-axios@3.5.2_axios@1.6.7_vue@3.4.19-BaogFJPH.js";import"./moment@2.30.1-Cl4UOzQZ.js";import"./vue-loading-overlay@6.0.4_vue@3.4.19-DaNcwJXO.js";import"./vue-router@4.2.5_vue@3.4.19-BBAnl9m5.js";const S={components:{PaginationComponent:w},data(){return{filter:"網站公告",currentPage:1}},computed:{...k(u,["articles"]),displayingArticles(){return this.articles.filter(s=>s.type===this.filter)},totalPages(){return Math.ceil(this.displayingArticles.length/5)}},methods:{...y(u,["getArticles","deleteArticle","switchArticleStatus"])},created(){this.articles.length||this.getArticles()}},n=s=>(x("data-v-74fbbf4c"),s=s(),P(),s),I={class:"lh-lg nav nav-tabs nav-fill mb-3 border-bottom"},B={class:"nav-item"},L=n(()=>t("b",null,"網站公告",-1)),V=[L],z={class:"nav-item"},D=n(()=>t("b",null,"專欄文章",-1)),F=[D],M={class:"nav-item"},N=n(()=>t("b",null,"公益計劃",-1)),R=[N],q={class:"text-end mb-3"},E={class:"text-muted"},H={class:"alert bg-gray flex-classic mb-6"},Q=["onClick"],j={key:0,class:"table-responsive"},G={class:"table table-hover text-nowrap"},J=n(()=>t("th",{scope:"col",width:"10%"},"日期",-1)),K=n(()=>t("th",{scope:"col",width:"10%"},"分類",-1)),O={scope:"col",width:"50%"},T=n(()=>t("th",{scope:"col",width:"15%",class:"text-center"},"狀態",-1)),U=n(()=>t("th",{scope:"col",width:"15%",class:"text-center"},"處理",-1)),W={class:"align-middle"},X={class:"badge bg-highlight text-dark py-2"},Y={class:"fw-bold mb-2"},Z={class:"text-muted fs-7"},$={class:"text-center"},tt={class:"form-switch"},et=["checked","onChange"],st={class:"text-center"},ot={class:"d-flex flex-column gap-2"},it=["onClick"],nt=["onClick"],lt={key:1,class:"alert bg-gray"};function ct(s,l,rt,at,o,a){const m=b("RouterLink"),v=b("PaginationComponent");return r(),c(g,null,[t("ul",I,[t("li",B,[t("a",{href:"#",class:_(["nav-link py-3",{active:o.filter==="網站公告"}]),onClick:l[0]||(l[0]=h(e=>o.filter="網站公告",["prevent"]))},V,2)]),t("li",z,[t("a",{href:"#",class:_(["nav-link py-3",{active:o.filter==="專欄文章"}]),onClick:l[1]||(l[1]=h(e=>o.filter="專欄文章",["prevent"]))},F,2)]),t("li",M,[t("a",{href:"#",class:_(["nav-link py-3",{active:o.filter==="公益計劃"}]),onClick:l[2]||(l[2]=h(e=>o.filter="公益計劃",["prevent"]))},R,2)])]),t("div",q,[t("p",E,"目前共有 "+i(a.displayingArticles.length)+" 篇"+i(o.filter),1)]),t("div",H,[t("div",null,[p(m,{to:`/admin/article/${o.filter}`,custom:""},{default:f(({navigate:e})=>[t("button",{type:"button",class:"btn btn-highlight",onClick:e}," 新增"+i(o.filter),9,Q)]),_:1},8,["to"])]),p(v,{current:o.currentPage,total:a.totalPages,onSwitchPage:s.getArticles},null,8,["current","total","onSwitchPage"])]),s.articles.length?(r(),c("div",j,[t("table",G,[t("thead",null,[t("tr",null,[J,K,t("th",O,i(o.filter),1),T,U])]),t("tbody",W,[(r(!0),c(g,null,A(a.displayingArticles,e=>(r(),c("tr",{key:e.id},[t("td",null,i(s.$calc.formatDate(e.create_at*1e3,"/")),1),t("td",null,[t("span",X,i(e.category),1)]),t("td",null,[t("p",Y,i(e.title),1),t("span",Z,"作者｜"+i(e.author),1)]),t("td",$,[t("div",tt,[t("input",{type:"checkbox",role:"switch",class:"form-check-input",checked:e.isPublic,onChange:d=>s.switchArticleStatus(e)},null,40,et)])]),t("td",st,[t("div",ot,[p(m,{to:`article/${e.type}?id=${e.id}`,custom:""},{default:f(({navigate:d})=>[t("button",{type:"button",class:"w-100 btn btn-outline-secondary",onClick:d}," 編輯",8,it)]),_:2},1032,["to"]),t("button",{type:"button",class:"w-100 btn btn-outline-danger",onClick:d=>s.deleteArticle(e.id,e.title)}," 刪除",8,nt)])])]))),128))])])])):(r(),c("div",lt,"還沒有任何文章！趕快新增一篇吧！"))],64)}const zt=C(S,[["render",ct],["__scopeId","data-v-74fbbf4c"]]);export{zt as default};
